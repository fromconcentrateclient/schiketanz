<directory_structure>
astro.config.mjs
keystatic.config.ts
package.json
src/components/Footer.astro
src/components/Logo.astro
src/components/Navbar.astro
src/components/PageContainer.astro
src/components/PageHeader.astro
src/components/PropertyGallery.astro
src/content/config.ts
src/content/news/another-example-post.mdx
src/content/news/family-day.mdx
src/content/rentals/bluebird-apartments.mdx
src/content/rentals/bridge-apartments.mdx
src/content/rentals/chicopee-court.mdx
src/content/rentals/chicopee-terrace.mdx
src/layouts/Layout.astro
src/pages/404.astro
src/pages/about.astro
src/pages/application.astro
src/pages/commercial.astro
src/pages/contact.astro
src/pages/index.astro
src/pages/maintenance.astro
src/pages/more.astro
src/pages/pad-form.astro
src/pages/privacy.astro
src/pages/rentals.astro
src/pages/rentals/[id].astro
src/pages/success.astro
src/styles/global.css
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/components/Logo.astro">
---
interface Props {
  class?: string;
  as?: string;
}

const { class: className = "", as: Element = "div" } = Astro.props;
---

<Element class:list={["inline-flex flex-col leading-none select-none w-fit", className]}>
  <!-- 
    TOP LINE:
    1. font-century: Uses the Regular font file.
    2. font-bold: Turns on browser synthetic bold (base thickness).
    3. [-webkit-text-stroke:...]: Adds micro-thickness. 
       - If still too thin, change 0.015em to 0.02em.
       - If too thick, change to 0.01em.
    4. tracking-[0.01em]: Custom spacing (tighter than 'wide', looser than 'normal').
  -->
  <span class="font-century font-bold text-[1em] tracking-[0.01em] [-webkit-text-stroke:0.015em_currentColor] whitespace-nowrap">
    M. Schiketanz
  </span>
  
  <!-- 
    BOTTOM LINE:
    1. Reduced tracking from [0.2em] to [0.14em].
    2. Adjusted right margin slightly to account for new width.
  -->
  <span class="font-century text-[0.36em] tracking-[0.14em] text-right -mt-[0.05em] mr-[0.02em] opacity-90">
    real estate inc.
  </span>
</Element>
</file>

<file path="src/components/Navbar.astro">
---
const navLinks = [
  { name: "Home", href: "/" },
  { name: "About", href: "/about" },
  { name: "Rentals", href: "/rentals" },
  { name: "Contact and Hours", href: "/contact" },
  { name: "Maintenance Request", href: "/maintenance" },
  { name: "PAD Form", href: "/pad-form" },
  { name: "Application", href: "/application" },
  { name: "More", href: "/more" },
];

const currentPath = Astro.url.pathname;
---

<nav class="w-full border-t border-white/20">
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden lg:hidden bg-schiketanz-red border-t border-white/20 pb-4">
        <ul class="flex flex-col">
            {navLinks.map(link => (
                <li>
                    <a 
                        href={link.href} 
                        class="block text-white py-3 px-0 hover:text-gray-200 border-b border-white/10 text-sm font-medium"
                    >
                        {link.name}
                    </a>
                </li>
            ))}
        </ul>
    </div>

    <!-- Desktop Menu (Left Aligned) -->
    <div class="hidden lg:block w-full">
        <ul class="flex justify-start space-x-6">
            {navLinks.map(link => (
                <li>
                    <a 
                        href={link.href} 
                        class:list={[
                            "block text-white py-3 text-[15px] font-normal hover:text-gray-200 hover:underline transition-all",
                            // subtle underline for the active page
                            { "underline decoration-2 decoration-white underline-offset-4": currentPath === link.href }
                        ]}
                    >
                        {link.name}
                    </a>
                </li>
            ))}
        </ul>
    </div>
</nav>
</file>

<file path="src/components/PageContainer.astro">
---
interface Props {
  narrow?: boolean;
  class?: string;
}

const { narrow = false, class: className = "" } = Astro.props;
---

<div class:list={[
  "container mx-auto px-4",
  "pt-4 md:pt-6 lg:pt-8",   /* Reduced top padding */
  "pb-8 md:pb-12 lg:pb-16", /* Keep or increase bottom padding for breathing room */
  className
]}>
  <div class:list={[
    narrow ? "max-w-3xl mx-auto" : "w-full"
  ]}>
    <slot />
  </div>
</div>
</file>

<file path="src/content/news/another-example-post.mdx">
---
title: Another Example Post
date: 2026-01-21
---
We can write any announcement in this space.
</file>

<file path="src/content/news/family-day.mdx">
---
title: Office Closure for Family Day
date: 2025-02-17
---
Please be advised that the Schiketanz office will be closed on Monday, February 17th for Family Day.

For emergency maintenance requests, please call our 24-hour line. Normal business hours will resume on Tuesday.
</file>

<file path="src/layouts/Layout.astro">
---
import { ClientRouter } from 'astro:transitions';
import '@fontsource/open-sans';
import '../styles/global.css';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Logo from '../components/Logo.astro';

interface Props {
	title: string;
	description?: string;
	image?: string;
	canonicalURL?: string;
    type?: 'website' | 'article';
    // allow pages to control semantic tag of logo (default: div)
    logoAs?: 'h1' | 'div';
}

// Default SEO values extracted from original site
const defaultDesc = "Apartment Rentals in Kitchener Waterloo Ontario. M. Schiketanz Real Estate Inc. providing quality service to tenants since 1953.";
const siteName = "M. Schiketanz Real Estate Inc.";

const { 
    title, 
    description = defaultDesc, 
    image = '/images/og-default.jpg', // TODO: Ensure we have a default share image in public/images
    canonicalURL = new URL(Astro.url.pathname, Astro.site).href,
    type = 'website',
    logoAs = 'div' // default to 'div' so only homepage overrides to 'h1'
} = Astro.props;

// Schema extracted from CURL data
const businessSchema = {
  "@context": "https://schema.org/",
  "@type": "LocalBusiness",
  "name": "M. Schiketanz Real Estate Inc.",
  "url": Astro.site,
  "logo": new URL('/favicon.svg', Astro.site).href,
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "CA",
    "addressLocality": "Kitchener",
    "addressRegion": "ON",
    "postalCode": "N2B 2A9",
    "streetAddress": "582 Frederick Street"
  },
  "telephone": "519-742-4477",
  "description": description
};
---

<!doctype html>
<html lang="en" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
        <link rel="canonical" href={canonicalURL} />

        <!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="description" content={description} />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content={type} />
        <meta property="og:url" content={canonicalURL} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content={new URL(image, Astro.site)} />
        <meta property="og:site_name" content={siteName} />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content={canonicalURL} />
        <meta property="twitter:title" content={title} />
        <meta property="twitter:description" content={description} />
        <meta property="twitter:image" content={new URL(image, Astro.site)} />

        <!-- Schema.org JSON-LD -->
        <script type="application/ld+json" set:html={JSON.stringify(businessSchema)} />

		<ClientRouter />
	</head>
	
	<body class="bg-white flex flex-col min-h-screen text-gray-800 font-sans antialiased-crisp">
		
        <!-- Accessibility: Skip to Content -->
        <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[100] bg-white text-blue-800 p-4 border border-blue-800 rounded">
            Skip to main content
        </a>

		<!-- HEADER -->
		<header class="bg-schiketanz-red shadow-md sticky top-0 z-50">
			
			<div class="container mx-auto px-4 pt-6 pb-2">
				<!-- Top Row: Logo/Title -->
				<div class="flex justify-between items-start mb-2">
					<a href="/" class="block text-white hover:text-gray-100 transition-colors decoration-0 group" aria-label="Go to Homepage">
                        <!-- Dynamic Logo Tag (h1 on home, div elsewhere) -->
						<Logo as={logoAs} class="text-4xl md:text-5xl group-hover:opacity-95 transition-opacity" />
					</a>

					<!-- Mobile Menu Button -->
					<button 
                        id="menu-btn" 
                        class="lg:hidden text-white p-2 border border-white/30 rounded hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white cursor-pointer"
                        aria-label="Toggle Navigation Menu"
                        aria-expanded="false"
                        aria-controls="mobile-menu"
                    >
						<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
						</svg>
					</button>
				</div>

				<Navbar />
			</div>
		</header>

		<main id="main-content" class="flex-grow w-full">
			<slot />
		</main>

		<Footer />
	</body>
</html>

<script>
    // Handles Mobile Menu Toggle with ARIA updates for accessibility
	document.addEventListener('astro:page-load', () => {
		const btn = document.getElementById('menu-btn');
		const menu = document.getElementById('mobile-menu');
		
		if(btn && menu) {
			btn.addEventListener('click', () => {
				const isHidden = menu.classList.toggle('hidden');
                btn.setAttribute('aria-expanded', (!isHidden).toString());
			});
		}
	});
</script>
</file>

<file path="src/pages/404.astro">
---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Page Not Found | Schiketanz Real Estate">
  <div class="container mx-auto px-4 h-[60vh] flex flex-col items-center justify-center text-center">
    <h1 class="font-century font-bold text-6xl text-[var(--color-schiketanz-red)] mb-4">404</h1>
    <p class="text-2xl text-gray-800 font-bold mb-4">Page Not Found</p>
    <p class="text-gray-600 mb-8 max-w-md">The page you are looking for might have been removed, had its name changed, or is temporarily unavailable.</p>
    <div class="flex gap-4">
        <a href="/" class="px-6 py-3 bg-[var(--color-schiketanz-red)] text-white font-bold rounded hover:bg-red-700 transition-colors">Go Home</a>
        <a href="/rentals" class="px-6 py-3 border border-gray-300 text-gray-700 font-bold rounded hover:bg-gray-50 transition-colors">View Rentals</a>
    </div>
  </div>
</Layout>
</file>

<file path="src/pages/commercial.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import { Image } from 'astro:assets';
// You'll need to add a placeholder image or remove this Image component until you have one
// import forestHillImg from '../assets/commercial/forest-hill.jpg'; 
---

<Layout title="Commercial Leasing | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="Commercial Properties" 
      subtitle="Retail and office space management in the Kitchener-Waterloo region."
      breadcrumb={[{ text: 'Commercial', href: '/commercial' }]}
    />

    <article class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
        <!-- Image Placeholder -->
        <div class="bg-gray-200 h-80 lg:h-auto w-full rounded-sm flex items-center justify-center text-gray-500 border border-gray-300">
            <!-- <Image src={forestHillImg} alt="Forest Hill Shopping Centre" class="w-full h-full object-cover" /> -->
            <span class="font-century">Forest Hill Shopping Centre Photo</span>
        </div>

        <!-- Content -->
        <div class="flex flex-col justify-center">
            <h2 class="font-century font-bold text-3xl text-gray-800 mb-2">Forest Hill Shopping Centre</h2>
            <p class="text-gray-500 text-lg mb-6">582 Frederick Street, Kitchener, ON</p>

            <div class="prose text-gray-700 mb-8">
                <p>
                    Centrally located at the intersection of Frederick Street and Edna Street, the Forest Hill Shopping Centre serves as a hub for the local community.
                </p>
                <p>
                    The plaza features a diverse mix of tenants, including medical offices, retail stores, and M. Schiketanz Real Estate's own headquarters.
                </p>
                <ul class="list-disc pl-5 space-y-2 mt-4">
                    <li>High traffic visibility</li>
                    <li>Ample parking for customers</li>
                    <li>Professional property management on-site</li>
                </ul>
            </div>

            <div class="bg-gray-50 p-6 border-l-4 border-[var(--color-schiketanz-red)]">
                <h3 class="font-bold text-gray-800 mb-2">Leasing Inquiries</h3>
                <p class="text-gray-600 mb-4">
                    Interested in establishing your business here? Contact us to discuss current availability and rates.
                </p>
                <a href="/contact" class="text-[var(--color-schiketanz-red)] font-bold hover:underline">
                    Contact Leasing Office &rarr;
                </a>
            </div>
        </div>
    </article>
  </div>
</Layout>
</file>

<file path="src/pages/more.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import { getCollection } from 'astro:content';

const newsEntries = await getCollection('news');
const sortedNews = newsEntries.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title="News & Resources | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="News & Resources" 
      breadcrumb={[{ text: 'More', href: '/more' }]}
    />

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
        
        <!-- Left Col: News Feed -->
        <div class="lg:col-span-2">
            <h2 class="font-century font-bold text-2xl text-gray-800 mb-6 flex items-center">
                <span class="bg-[var(--color-schiketanz-red)] w-2 h-8 mr-3 block"></span>
                Notices & Newsletters
            </h2>
            
            <div class="space-y-8">
                {sortedNews.length > 0 ? sortedNews.map(item => (
                    <article class="bg-white p-6 border border-gray-200 rounded-sm shadow-sm hover:shadow-md transition-shadow">
                        <header class="mb-3">
                            <span class="text-sm text-gray-500 font-bold uppercase tracking-wider">
                                {item.data.date.toLocaleDateString('en-CA', { year: 'numeric', month: 'long', day: 'numeric' })}
                            </span>
                            <h3 class="text-xl font-century font-bold text-gray-900 mt-1">
                                {item.data.title}
                            </h3>
                        </header>
                        <div class="prose text-gray-600 max-w-none">
                            {item.body}
                        </div>
                    </article>
                )) : (
                    <p class="text-gray-500 italic">No news postings available at this time.</p>
                )}
            </div>
        </div>

        <!-- Right Col: Quick Links / Sitemap -->
        <div class="lg:col-span-1">
            <div class="bg-gray-50 p-6 rounded-sm border border-gray-200 sticky top-24">
                <h3 class="font-century font-bold text-lg text-gray-800 mb-4 border-b border-gray-200 pb-2">
                    Quick Resources
                </h3>
                <nav class="space-y-3">
                    <a href="/commercial" class="block text-gray-700 hover:text-[var(--color-schiketanz-red)] transition-colors flex items-center group">
                        <svg class="w-4 h-4 mr-2 text-gray-400 group-hover:text-[var(--color-schiketanz-red)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
                        Commercial Leasing
                    </a>
                    <a href="/pad-form" class="block text-gray-700 hover:text-[var(--color-schiketanz-red)] transition-colors flex items-center group">
                        <svg class="w-4 h-4 mr-2 text-gray-400 group-hover:text-[var(--color-schiketanz-red)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
                        PAD Form
                    </a>
                    <a href="/application" class="block text-gray-700 hover:text-[var(--color-schiketanz-red)] transition-colors flex items-center group">
                        <svg class="w-4 h-4 mr-2 text-gray-400 group-hover:text-[var(--color-schiketanz-red)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
                        Rental Application
                    </a>
                </nav>
            </div>
        </div>

    </div>
  </div>
</Layout>
</file>

<file path="src/pages/privacy.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
---

<Layout title="Privacy Policy | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="Privacy Policy" 
      breadcrumb={[{ text: 'Privacy Policy', href: '/privacy' }]}
    />

    <div class="prose max-w-3xl mx-auto text-gray-700">
      <p class="italic text-sm text-gray-500 mb-6">Last Updated: {new Date().toLocaleDateString('en-CA', { year: 'numeric', month: 'long', day: 'numeric' })}</p>

      <h3>1. General Policy</h3>
      <p>
        At M. Schiketanz Real Estate Inc., we are committed to maintaining the accuracy, confidentiality, and security of your personally identifiable information ("Personal Information"). As part of this commitment, our privacy policy governs our actions as they relate to the collection, use, and disclosure of Personal Information.
      </p>

      <h3>2. Collection of Personal Information</h3>
      <p>
        We collect personal information (such as names, contact details, and financial information) primarily for the purpose of evaluating rental applications, managing tenancy agreements, and processing payments. We collect only the amount of information that is necessary for the purposes identified.
      </p>

      <h3>3. Use and Disclosure</h3>
      <p>
        Your personal information is used only for the purposes for which it was collected or as required by law. We do not sell, trade, or rent your personal information to third parties.
      </p>
      
      <h3>4. Contact Us</h3>
      <p>
        If you have any questions regarding this Privacy Policy or the personal information we hold about you, please contact our office at:
      </p>
      <ul>
        <li><strong>Email:</strong> <a href="mailto:office@schiketanz.ca" class="text-[var(--color-schiketanz-red)] hover:underline">office@schiketanz.ca</a></li>
        <li><strong>Phone:</strong> (519) 742-4477</li>
      </ul>
    </div>
  </div>
</Layout>
</file>

<file path="src/components/PropertyGallery.astro">
---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
  images: ImageMetadata[];
  title: string;
}

const { images, title } = Astro.props;
---

<div class="relative w-full group border-2 border-[var(--color-schiketanz-red)] rounded-sm bg-gray-50" id="gallery-container">
  
  <!-- Scrollable Container -->
  <div 
    id="carousel-track"
    class="flex overflow-x-auto snap-x snap-mandatory scrollbar-hide scroll-smooth aspect-video relative"
  >
    {images.map((imgObj, index) => (
      <div class="flex-none w-full h-full snap-center relative flex items-center justify-center bg-gray-900 gallery-slide overflow-hidden">
        <!-- 1. Background Layer: Blurred & Zoomed to fill space -->
        <div class="absolute inset-0 w-full h-full">
            <Image 
              src={imgObj} 
              alt="" 
              class="w-full h-full object-cover opacity-50 blur-xl scale-110"
            />
        </div>
        <!-- 2. Foreground Layer: The clear image, fully visible -->
        <Image 
          src={imgObj} 
          alt={`${title} - Photo ${index + 1}`}
          class="relative z-10 w-full h-full object-contain shadow-lg"
        />
        
      </div>
    ))}
  </div>

  <!-- Navigation Arrows & Dots (Only show if more than 1 image) -->
  {images.length > 1 && (
    <>
      <button 
        id="prev-btn"
        class="absolute left-2 top-1/2 -translate-y-1/2 bg-[var(--color-schiketanz-red)]/90 hover:bg-[var(--color-schiketanz-red)] text-white p-2 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-all duration-300 focus:opacity-100 translate-x-[-10px] group-hover:translate-x-0 cursor-pointer z-10"
        aria-label="Previous image"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
      </button>
      <button 
        id="next-btn"
        class="absolute right-2 top-1/2 -translate-y-1/2 bg-[var(--color-schiketanz-red)]/90 hover:bg-[var(--color-schiketanz-red)] text-white p-2 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-all duration-300 focus:opacity-100 translate-x-[10px] group-hover:translate-x-0 cursor-pointer z-10"
        aria-label="Next image"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
        </svg>
      </button>
      <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 bg-black/20 px-3 py-1 rounded-full backdrop-blur-[2px] z-10">
         {images.map((_, index) => (
            <button 
                class="indicator-dot w-2 h-2 rounded-full shadow-sm transition-all duration-300 bg-white/70" 
                data-index={index}
                aria-label={`Go to slide ${index + 1}`}
            ></button>
         ))}
      </div>
    </>
  )}
</div>

<style>
  .scrollbar-hide::-webkit-scrollbar {
      display: none;
  }
  .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
      const track = document.getElementById('carousel-track');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const slides = document.querySelectorAll('.gallery-slide');
      const dots = document.querySelectorAll('.indicator-dot');

      if (!track) return; // guard clause

    // update which dot is active
    const updateDots = (activeIndex: number) => {
      dots.forEach((dot, index) => {
        if (index === activeIndex) {
          // active: schiketanz red + slightly larger
          dot.classList.remove('bg-white/70');
          dot.classList.add('bg-[var(--color-schiketanz-red)]');
          dot.classList.add('scale-125');
        } else {
          // inactive: white/70
          dot.classList.add('bg-white/70');
          dot.classList.remove('bg-[var(--color-schiketanz-red)]');
          dot.classList.remove('scale-125');
        }
      });
    };

    // set up IntersectionObserver to watch which slide is visible
    if (track && slides.length > 0) {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // find index of slide that just appeared
            // convert NodeList to an Array to use .indexOf
            const index = Array.from(slides).indexOf(entry.target as Element);
            updateDots(index);
          }
        });
      }, {
        root: track,
        threshold: 0.5 // trigger when 50% of the image is visible
      });
      // observe every slide
      slides.forEach(slide => observer.observe(slide));
    }

    // previous/next button logic
    if (track && prevBtn && nextBtn) {
      prevBtn.addEventListener('click', () => {
        track.scrollBy({ left: -track.clientWidth, behavior: 'smooth' });
      });
      nextBtn.addEventListener('click', () => {
        track.scrollBy({ left: track.clientWidth, behavior: 'smooth' });
      });
    }

    // dot click logic
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        if(track && slides[index]) {
          slides[index].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });
        }
      });
    });

    // initialize first dot as active on load
    updateDots(0);
  }); 
</script>
</file>

<file path="src/content/config.ts">
import { defineCollection, z } from 'astro:content';

const rentals = defineCollection({
    type: 'content',
    schema: ({ image }) => z.object({
        title: z.string(),
        // Validates the Keystatic conditional field structure
        vacancyStatus: z.discriminatedUnion('discriminant', [
            z.object({ discriminant: z.literal('occupied') }),
            z.object({ 
                discriminant: z.literal('vacant'), 
                value: z.array(z.object({
                    unitType: z.string(),
                    price: z.string()
                }))
            }),
        ]),
        address: z.string(),
        // cover image
        coverImage: image().optional(),        
        // iGuide Link: Optional string, validated as a URL
        iGuideUrl: z.string().url().optional(),
        // Gallery: Optional array of images
        // Structured specs are optional strings
        specs: z.object({
            stories: z.string().optional(),
            totalUnits: z.string().optional(),
            elevators: z.string().optional(),
            laundry: z.string().optional(),
            sqft: z.string().optional(),
            utilities: z.string().optional(),
        }).optional(),
        gallery: z.array(image()).optional(),
    }),
});

const news = defineCollection({
    type: 'content',
    schema: z.object({
        title: z.string(),
        date: z.coerce.date(),
    }),
});

export const collections = { rentals, news };
</file>

<file path="src/content/rentals/bluebird-apartments.mdx">
---
title: Bluebird Apartments
vacancyStatus:
  discriminant: vacant
  value:
    - unitType: Two Bedrooms
      price: Starting from $1850.00 + Hydro
    - unitType: Three Bedrooms
      price: Starting from $2400.00 + Hydro
address: 195 Natchez Rd., Kitchener, Ontario N2B 1W2
coverImage: ../../assets/rentals/bluebird-apartments/coverImage.avif
iGuideUrl: https://youriguide.com/vEN92C3Z6V8DD1
specs:
  stories: '9'
  totalUnits: '159 '
  elevators: '2'
  laundry: On-Site
gallery: []
---
Quiet building nestled in Heritage Park area of Kitchener. Mature, long term tenants. Clean spacious units. Large Balconies. Close to all amenities, shops, bars and restaurants. Excellent public transit access.

\
No pets.\
​No Smoking.\
Parking is extra.

\
Please contact Superintendent for an appointment to view.\
Phone: 519-588-0083\
9:00AM - 5:00PM
</file>

<file path="src/content/rentals/bridge-apartments.mdx">
---
title: Bridge Apartments
vacancyStatus:
  discriminant: occupied
address: 131-139 Bridge St. E, Kitchener, Ontario N2K 1K1
coverImage: ../../assets/rentals/bridge-apartments/coverImage.avif
iGuideUrl: https://iguidephotos.com/vBPA4U2Z6V8DD1
specs:
  stories: '3'
  totalUnits: '16'
  laundry: En-Suite
gallery:
  - ../../assets/rentals/bridge-apartments/gallery/0.avif
  - ../../assets/rentals/bridge-apartments/gallery/1.avif
  - ../../assets/rentals/bridge-apartments/gallery/2.avif
---
Condo style living.  Quiet building in Kitchener. Clean spacious units. Close to amenities. Excellent public transit access. Amenities include Central A/C, 5 appliances; fridge, stove, washer, dryer and microwave. 

Utilities extra.\
Parking is extra.\
No pets.\
No smoking.

Please contact Superintendent for an appointment to view.\
Phone: 519-742-4477\
Weekdays 9:00AM - 4:00PM
</file>

<file path="src/pages/application.astro">
---
export const prerender = true; // to ensure form is detected

import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
---

<Layout title="Rental Application | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="Rental Application" 
      breadcrumb={[{ text: 'Application', href: '/application' }]}
    />

    <div class="max-w-3xl mx-auto">
        <div class="prose max-w-none text-gray-700 mb-8">
            <p class="text-lg">
                Thank you for your interest in our properties. To apply for a rental unit, please download the application form below. 
            </p>
            <p>
                Please ensure all sections are completed legibly. Incomplete applications may result in processing delays.
            </p>
        </div>

        <!-- Checklist -->
        <div class="bg-blue-50 border border-blue-200 p-6 rounded-sm mb-8">
            <h3 class="font-century font-bold text-xl text-blue-900 mb-4">Required Documents</h3>
            <ul class="space-y-3">
                <li class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mr-3 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span>Completed and signed Application Form</span>
                </li>
                <li class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mr-3 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span>Proof of Income (e.g., recent pay stub, employment letter)</span>
                </li>
                <li class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mr-3 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span>Photo Identification (Driver's License or Passport)</span>
                </li>
                <li class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mr-3 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span>Last Month's Rent Deposit (Upon approval)</span>
                </li>
            </ul>
        </div>

        <!-- Download Section -->
        <div class="text-center py-8 border-t border-b border-gray-200 mb-8">
            <!-- Ensure you put the actual PDF in public/forms/application.pdf -->
            <a href="/forms/application.pdf" target="_blank" class="inline-flex items-center bg-[var(--color-schiketanz-red)] text-white font-century font-bold text-lg px-8 py-4 rounded hover:bg-red-700 transition-colors shadow-md">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                Download Application PDF
            </a>
            <p class="text-sm text-gray-500 mt-4">
                Right-click and "Save Link As" to download to your computer.
            </p>
        </div>

        <div class="text-center">
            <h3 class="font-bold text-gray-800 mb-2">Submission</h3>
            <p class="text-gray-600">
                Please email your completed application to <a href="mailto:office@schiketanz.ca" class="text-[var(--color-schiketanz-red)] hover:underline">office@schiketanz.ca</a><br/>
                or drop it off at our office during business hours.
            </p>
        </div>
    </div>
  </div>
</Layout>
</file>

<file path="src/styles/global.css">
@import "tailwindcss";

@font-face {
  font-family: "Century Gothic";
  src: url("/fonts/CenturyGothic.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  font-display: block;
}
@font-face {
  font-family: "Century Gothic Bold";
  src: url("/fonts/CenturyGothicBold.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  font-display: block;
}

@layer utilities {
  .antialiased-crisp {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

@theme {
  /* Colours */
  --color-schiketanz-red: rgba(236, 28, 28, 1);
  --color-schiketanz-red-dark: rgba(200, 24, 24, 1);
  /* Fonts */
  --font-century: "Century Gothic", sans-serif;
  --font-centurybold: "Century Gothic Bold", sans-serif;
  --font-sans: "Open Sans", ui-sans-serif, system-ui, sans-serif;
}

/* can still write normal CSS here if there are issues with tailwind */
@layer utilities {
  .antialiased-crisp {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

body {
    /* ensure scrollbar doesn't shift layout on some windows */
    overflow-y: scroll; 
}
</file>

<file path="tsconfig.json">
{
  "extends": "astro/tsconfigs/strict",
  "compilerOptions": {
    "jsx": "react-jsx",
    "jsxImportSource": "react",
    "module": "ESNext",
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true
  },
  "include": [
    ".astro/types.d.ts",
    "**/*"
  ],
  "exclude": [
    "dist"
  ]
}
</file>

<file path="src/components/Footer.astro">
---
const year = new Date().getFullYear();
---

<footer class="bg-gray-800 text-white py-2 mt-auto">
    <div class="container mx-auto px-4 text-center">
        <div class="text-xs text-gray-500 pt-3 mb-3">
            <p class="text-gray-400 text-sm">
                Kitchener-Waterloo Real Estate Management
            </p>
            &copy; {year} Schiketanz Real Estate Inc.
        </div>
        <div class="flex justify-center gap-6 text-sm text-gray-300">
            <a href="/contact" class="hover:text-white hover:underline">Contact Us</a>
            <a href="/privacy" class="hover:text-white hover:underline">Privacy Policy</a>
        </div>
    </div>
</footer>
</file>

<file path="src/components/PageHeader.astro">
---
interface Props {
  title: string;
  subtitle?: string;
  breadcrumb?: { text: string; href: string }[];
}
const { title, subtitle, breadcrumb } = Astro.props;
---

<div class="mb-8 border-b border-gray-200 pb-4">
  {breadcrumb && (
    <nav class="flex items-center text-sm text-gray-500 mb-4" aria-label="Breadcrumb">
      <a href="/" class="hover:text-schiketanz-red">Home</a>
      {breadcrumb.map((crumb) => (
        <>
          <span class="mx-2">/</span>
          <a href={crumb.href} class="hover:text-schiketanz-red">{crumb.text}</a>
        </>
      ))}
    </nav>
  )}

  <div class="flex flex-col md:flex-row md:justify-between md:items-end gap-4">
    <div>
      <h1 class="font-century font-bold text-4xl text-schiketanz-red">{title}</h1>
      {subtitle && <p class="text-gray-600 text-lg mt-2">{subtitle}</p>}
    </div>
    <slot name="after-title" /> <!-- Allow badges or extra buttons here -->
  </div>
</div>
</file>

<file path="src/content/rentals/chicopee-court.mdx">
---
title: Chicopee Court
vacancyStatus:
  discriminant: occupied
address: 7 Old Chicopee Drive, Kitchener, Ontario N2A 2V4
coverImage: ../../assets/rentals/chicopee-court/coverImage.avif
iGuideUrl: https://youriguide.com/vMKDMO2Z6V8DD1
specs:
  stories: '7'
  totalUnits: '55'
  elevators: '1'
  laundry: On-Site
  utilities: Rent includes utilities
gallery:
  - ../../assets/rentals/chicopee-court/gallery/0.avif
  - ../../assets/rentals/chicopee-court/gallery/1.avif
  - ../../assets/rentals/chicopee-court/gallery/2.avif
---
Quiet building nestled in Heritage Park area of Kitchener.  Mature, long-term tenants. Clean spacious units. Large Balconies. Close to all amenities, shops, bars and restaurants. Excellent public transit access. Walking distance to Stanley Park Mall. &#x20;



Parking is Extra.\
No Pets.\
No Smoking. &#x20;



Please contact Superintendent for an appointment to view.\
Phone: 519-893-9881\
Weekdays 9:00AM - 5:00PM
</file>

<file path="src/content/rentals/chicopee-terrace.mdx">
---
title: Chicopee Terrace
vacancyStatus:
  discriminant: vacant
  value:
    - unitType: One Bedroom
      price: Starting at $1550.00
    - unitType: Two Bedroom
      price: Starting at $1900.00
address: 23 Old Chicopee Drive, Kitchener, Ontario N2A 2V5
coverImage: ../../assets/rentals/chicopee-terrace/coverImage.avif
iGuideUrl: https://youriguide.com/v2O3AU2Z6V8DD1
specs:
  stories: '7'
  totalUnits: '51'
  elevators: '1'
  laundry: On-Site
  utilities: Rent Includes Utilities
gallery:
  - ../../assets/rentals/chicopee-terrace/gallery/0.avif
  - ../../assets/rentals/chicopee-terrace/gallery/1.avif
  - ../../assets/rentals/chicopee-terrace/gallery/2.avif
---
Quiet building nestled in Heritage Park area of Kitchener. Mature, long term tenants. Clean spacious units. Large Balconies. Walking distance to Stanley Park Mall. Close to all amenities, shops, bars and restaurants. Excellent public transit access.

No pets. \
No smoking.\
Parking is extra.

Please contact Superintendent for an appointment to view.\
Phone: 519-893-9881\
Weekdays 09:00AM - 5:00PM&#x20;
</file>

<file path="src/pages/about.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import PageContainer from '../components/PageContainer.astro';
---

<Layout title="About Us | Schiketanz Real Estate">
  <PageContainer>
    <PageHeader 
      title="About Schiketanz" 
      subtitle="We are the small company doing big things!"
      breadcrumb={[{ text: 'About', href: '/about' }]}
    />

    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 text-lg text-gray-700 leading-relaxed font-sans">
      <div>
        <p>
          Schiketanz Real Estate manages many residential and commercial properties located in KW Region.
        </p>
        <p>
          Our buildings are well maintained and cared for by a truly dedicated team of individuals - many of which are long, long term employees.
        </p>
        <p>
          We have built this business on superior service using fair and honest practices.
          We will treat you with respect and do everything we can to make your tenancy comfortable.
        </p>
        <p class="italic text-gray-600 mb-4">
          "Our personalized service will help you make your apartment into a home."
        </p>
      </div>

      <div class="bg-gray-50 p-8 border-l-4 border-schiketanz-red rounded-sm h-fit">
        <h3 class="font-century font-bold text-xl text-schiketanz-red mb-4">
          Our History
        </h3>
        <p>
          M. Schiketanz Real Estate was founded by Margaret Schiketanz in 1953.
        </p>
        <p>
          Our office operated from the same premises at 189 King Street East in Kitchener for 68 years and have since moved to our current office on Frederick Street.
        </p>
      </div>
    </div>
  </PageContainer>
</Layout>
</file>

<file path="src/pages/contact.astro">
---
export const prerender = true;
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import PageContainer from '../components/PageContainer.astro';
---

<Layout title="Contact & Hours | Schiketanz Real Estate">
  <PageContainer>
    <PageHeader 
      title="Contact & Hours" 
      breadcrumb={[{ text: 'Contact', href: '/contact' }]}
    />
    <!-- 3-column grid to make the info column 1/3 and the map 2/3 -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
      <!-- LEFT COLUMN: Contact Info & Hours (1/3 width) -->
      <div class="lg:col-span-1 space-y-8">
        <!-- Office Hours Box -->
        <div class="bg-gray-50 p-6 shadow-sm border border-gray-200 rounded-sm">
            <h3 class="font-century font-bold text-xl text-gray-800 mb-4 border-b pb-2">Office Hours</h3>
            <ul class="space-y-3 text-sm text-gray-700">
                <li class="flex justify-between items-center">
                    <span class="font-bold">Mon - Thu:</span>
                    <span>8:30am - 4:30pm</span>
                </li>
                <li class="flex justify-between items-center">
                    <span class="font-bold">Friday:</span>
                    <span>8:30am - 1:00pm</span>
                </li>
                <li class="flex justify-between items-center text-gray-400">
                    <span class="font-bold">Sat & Sun:</span>
                    <span>Closed</span>
                </li>
            </ul>
        </div>
        <!-- Direct Contact Details -->
        <div>
            <h3 class="font-century font-bold text-xl text-gray-800 mb-4">Get In Touch</h3>
            <div class="space-y-5 text-gray-700">
                <p class="flex items-start">
                    <svg class="w-5 h-5 text-schiketanz-red mr-3 shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    <span class="text-sm">
                        <strong class="block text-gray-900">Office Address</strong>
                        582 Frederick St.<br/>
                        Kitchener, ON, N2B 2A9
                    </span>
                </p>
                <p class="flex items-center">
                    <svg class="w-5 h-5 text-schiketanz-red mr-3 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                    <a href="tel:5197424477" class="text-sm hover:text-schiketanz-red hover:underline transition-colors">(519) 742-4477</a>
                </p>
                <p class="flex items-center">
                    <svg class="w-5 h-5 text-schiketanz-red mr-3 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    <a href="mailto:office@schiketanz.ca" class="text-sm hover:text-schiketanz-red hover:underline transition-colors">office@schiketanz.ca</a>
                </p>
            </div>
        </div>
      </div>
      <!-- RIGHT COLUMN: Map (2/3 width) -->
      <div class="lg:col-span-2">
        <div class="h-[500px] bg-gray-200 rounded-sm overflow-hidden border border-gray-300 shadow-inner">
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2896.123456789!2d-80.463!3d43.456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDPCsDI3JzIxLjYiTiA4MMKwMjcnNDYuOCJX!5e0!3m2!1sen!2sca!4v1600000000000!5m2!1sen!2sca" 
                width="100%" 
                height="100%" 
                style="border:0;" 
                allowfullscreen="" 
                loading="lazy"
                title="Map to 582 Frederick St">
            </iframe>
        </div>
        <p class="mt-4 text-xs text-gray-500 italic text-right">
            Located in the Forest Hill Shopping Centre at Frederick & Edna.
        </p>
      </div>

    </div>
  </PageContainer>
</Layout>
</file>

<file path="src/pages/index.astro">
---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import heroImage from '../assets/hero.png';
import { getCollection } from 'astro:content';
import PageContainer from '../components/PageContainer.astro';

// fetch and sort news chronologically
const newsEntries = await getCollection('news');
const latestNews = newsEntries
    .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
    .slice(0, 3); // limit to top 3 notices
---

<Layout title="Home | Schiketanz Real Estate" logoAs="h1">
	<!-- Hero Section -->
	<section class="relative w-full h-[500px] md:h-[600px] bg-gray-100 overflow-hidden">
		<Image 
            src={heroImage} 
            alt="Interior of M. Schiketanz apartment"
            class="absolute inset-0 w-full h-full object-cover"
            quality="high"
            loading="eager" 
        />
        <!-- Darker overlay for better text contrast -->
        <div class="absolute inset-0 bg-black/40"></div>
            <!-- Text Overlay Container -->
            <div class="absolute inset-0 container mx-auto px-4 flex flex-col justify-center pointer-events-none">
                <div class="max-w-4xl drop-shadow-lg">
                    <h2 class="font-century font-medium text-white drop-shadow-md leading-tight text-[clamp(1.25rem,4vw,2rem)]">
                        Your Property Management Company Since 1953
                    </h2>
                    <p class="font-century font-bold text-white drop-shadow-md tracking-tight leading-none text-[clamp(2.5rem,8vw,5rem)] -mt-1">
                        At Your Service
                    </p>
                </div>
            </div>
        </div>
	</section>

    <!-- Content Section: Wrapped in PageContainer for consistent alignment -->
    <PageContainer>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 items-start">
            
            <!-- LEFT COLUMN: Welcome Text -->
            <div class="lg:col-span-2">
                <h3 class="text-2xl font-bold text-schiketanz-red mb-6 border-b-2 border-gray-200 pb-2 inline-block">
                    Welcome
                </h3>
                <div class="prose max-w-none text-gray-700 leading-relaxed font-sans text-lg">
                    <p class="mb-4">
                        Schiketanz is a Real Estate Management Company located in the Kitchener-Waterloo area. We are dedicated to providing quality service to our tenants and ensuring our properties are maintained to the highest standards.
                    </p>
                    <p class="mb-4">
                        We manage a diverse portfolio of residential and commercial properties. Whether you are looking for a bachelor apartment or a family home, our dedicated team is here to assist you in finding your next residence.
                    </p>
                    <p>
                        Please browse our available rentals or contact our office for more information regarding upcoming vacancies.
                    </p>
                </div>
                
                <div class="mt-8">
                    <a href="/rentals" class="inline-block bg-schiketanz-red text-white px-6 py-3 font-century font-bold hover:bg-schiketanz-red-dark transition-colors rounded-sm shadow-sm">
                        View Available Rentals &rarr;
                    </a>
                </div>
            </div>

            <!-- RIGHT COLUMN: News & Notices -->
            <div class="lg:col-span-1 w-full">
                <!-- "Notice Board" Container -->
                <div class="bg-gray-50 border border-gray-200 p-6 rounded-sm shadow-sm">
                    <h3 class="text-xl font-bold text-gray-800 mb-5 flex items-center border-b border-gray-200 pb-3">
                        <!-- Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-schiketanz-red" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M18 3a1 1 0 00-1.447-.894L8.763 6H5a3 3 0 000 6h.28l1.771 5.316A1 1 0 008 18h1a1 1 0 001-1v-4.382l6.553 3.276A1 1 0 0018 15V3z" clip-rule="evenodd" />
                        </svg>
                        News & Notices
                    </h3>
                    
                    {latestNews.length > 0 ? (
                        <div class="space-y-6">
                            {latestNews.map(news => (
                                <article class="relative pl-4 border-l-4 border-schiketanz-red">
                                    <p class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">
                                        {news.data.date.toLocaleDateString('en-CA', { year: 'numeric', month: 'long', day: 'numeric' })}
                                    </p>
                                    <h4 class="font-century font-bold text-gray-900 leading-tight mb-2 text-lg">
                                        {news.data.title}
                                    </h4>
                                    <div class="text-sm text-gray-600 line-clamp-4">
                                        {news.body}
                                    </div>
                                </article>
                            ))}
                        </div>
                    ) : (
                        <div class="text-center py-8 text-gray-500 italic">
                            No current notices at this time.
                        </div>
                    )}
                </div>
            </div>
        </div>
    </PageContainer>
</Layout>
</file>

<file path="src/pages/success.astro">
---
export const prerender = true;
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import PageContainer from '../components/PageContainer.astro';
---

<Layout title="Thank You | Schiketanz Real Estate">
  <PageContainer narrow class="min-h-[60vh] flex flex-col justify-center text-center">
    <PageHeader title="Submission Received">
        <!-- using slot to place icon next to title -->
        <div slot="after-title" class="bg-green-100 p-2 rounded-full hidden md:block">
            <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
            </svg>
        </div>
    </PageHeader>
    <div class="space-y-8">
        <!-- mobile-only icon -->
        <div class="bg-green-100 p-4 rounded-full w-fit mx-auto md:hidden">
            <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
        </div>
        <p class="text-gray-600 text-xl max-w-md mx-auto leading-relaxed">
            Thank you. Your information has been securely transmitted to our office. We will review your submission and contact you if necessary.
        </p>
        <div class="pt-4">
            <a href="/" class="inline-block px-10 py-4 bg-[var(--color-schiketanz-red)] text-white font-century font-bold rounded shadow-lg hover:bg-red-700 transition-all hover:-translate-y-1">
                Return to Homepage
            </a>
        </div>
    </div>
  </PageContainer>
</Layout>
</file>

<file path="src/pages/rentals/[id].astro">
---
export const prerender = true;

import { getCollection, render } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import PropertyGallery from '../../components/PropertyGallery.astro';
import PageHeader from '../../components/PageHeader.astro';
import PageContainer from '../../components/PageContainer.astro';

export async function getStaticPaths() {
  const rentals = await getCollection('rentals');
  // array of objects for each property
  return rentals.map(rental => ({
    params: { id: rental.slug }, // URL (e.g., /rentals/123-king-st)
    props: { rental },         // pass whole data object to page
  }));
}

// get specific property data for this page
const { rental } = Astro.props;
const { Content } = await render(rental);
// get gallery images
const allImages = [...(rental.data.gallery || [])];
if (rental.data.coverImage) allImages.push(rental.data.coverImage);

// FIX 1: Access the status directly and use TypeScript's narrowing properly
const status = rental.data.vacancyStatus;
const isVacant = status.discriminant === 'vacant';

// This safely extracts the array if it exists, otherwise returns an empty array
const availableUnits = status.discriminant === 'vacant' ? status.value : [];

// Helper to check if a spec exists and has content
const hasSpec = (val: string | undefined) => val && val.trim().length > 0;
---

<Layout title={`${rental.data.title} | Schiketanz Rentals`}>
  <PageContainer>
    <PageHeader 
        title={rental.data.title} 
        subtitle={rental.data.address}
        breadcrumb={[
            { text: 'Rentals', href: '/rentals' },
            { text: rental.data.title, href: `#` }
        ]}
    >
        {!isVacant && (
            <div slot="after-title" class="px-4 py-2 text-sm font-bold uppercase tracking-wider rounded-sm shadow-sm text-white bg-gray-600 h-fit md:mb-1">
                No Vacancy
            </div>
        )}
    </PageHeader>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 md:gap-12">
      
      <!-- Left Column: Media and Description -->
      <div class="lg:col-span-2 space-y-8">
        {allImages.length > 0 ? (
            <PropertyGallery images={allImages} title={rental.data.title} />
        ) : (
            <div class="w-full h-96 flex items-center justify-center bg-gray-100 text-gray-400 border border-gray-200">No Images Available</div>
        )}

        <div class="prose prose-red max-w-none text-gray-700">
           <Content />
        </div>
      </div>

      <!-- Right Column: Availability, Specs, and Contact -->
      <div class="lg:col-span-1 space-y-6">
        
        {/* Pricing Card: Only shows if building is Vacant */}
        {isVacant && (
            <div class="bg-green-50 border-2 border-green-600 p-6 rounded-sm shadow-sm">
                <h3 class="font-century text-xl font-bold text-green-800 mb-4 flex items-center">
                    <span class="w-3 h-3 bg-green-600 rounded-full mr-2 animate-pulse"></span>
                    Now Renting
                </h3>
                <div class="space-y-4 mb-6">
                    {/* FIX 2: Added explicit type to 'unit' parameter */}
                    {availableUnits.map((unit: { unitType: string; price: string }) => (
                        <div class="border-b border-green-200 pb-2 last:border-0">
                            <p class="font-bold text-gray-900">{unit.unitType}</p>
                            <p class="text-green-700 font-medium">{unit.price}</p>
                        </div>
                    ))}
                </div>
                <a href="/application" class="block w-full text-center bg-green-600 text-white font-bold py-3 px-4 rounded hover:bg-green-700 transition-colors shadow-md">
                    Apply for This Unit
                </a>
            </div>
        )}

        {/* Building Details Card: Only shows rows with data */}
        <div class="bg-gray-50 border border-gray-200 p-6 rounded-sm">
            <h3 class="font-century text-lg font-bold text-gray-800 mb-4 border-b border-gray-200 pb-2">Building Details</h3>
            <dl class="space-y-3 text-sm">
                {hasSpec(rental.data.specs?.stories) && (
                    <div class="flex justify-between border-b border-gray-200 pb-1"><dt class="text-gray-500">Stories</dt><dd class="font-bold text-gray-800 text-right">{rental.data.specs?.stories}</dd></div>
                )}
                {hasSpec(rental.data.specs?.totalUnits) && (
                    <div class="flex justify-between border-b border-gray-200 pb-1"><dt class="text-gray-500">Number of Units</dt><dd class="font-bold text-gray-800 text-right">{rental.data.specs?.totalUnits}</dd></div>
                )}
                {hasSpec(rental.data.specs?.elevators) && (
                    <div class="flex justify-between border-b border-gray-200 pb-1"><dt class="text-gray-500">Elevators</dt><dd class="font-bold text-gray-800 text-right">{rental.data.specs?.elevators}</dd></div>
                )}
                {hasSpec(rental.data.specs?.laundry) && (
                    <div class="flex justify-between border-b border-gray-200 pb-1"><dt class="text-gray-500">Laundry</dt><dd class="font-bold text-gray-800 text-right">{rental.data.specs?.laundry}</dd></div>
                )}
                {hasSpec(rental.data.specs?.sqft) && (
                    <div class="flex justify-between border-b border-gray-200 pb-1"><dt class="text-gray-500">Unit Sq. Footage</dt><dd class="font-bold text-gray-800 text-right">{rental.data.specs?.sqft}</dd></div>
                )}
                {hasSpec(rental.data.specs?.utilities) && (
                    <div class="pt-2 italic text-gray-600 text-xs">
                        {rental.data.specs?.utilities}
                    </div>
                )}
            </dl>
        </div>
        
        {/* iGuide Button */}
        {rental.data.iGuideUrl && (
            <div class="mt-2">
                <a href={rental.data.iGuideUrl} target="_blank" rel="noopener noreferrer" class="flex items-center justify-center w-full bg-[#003057] hover:bg-[#002542] text-white font-century py-3 px-4 rounded shadow transition-all group">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                    </svg>
                    <span>3D Virtual Tour</span>
                </a>
            </div>
        )}

        {/* Contact fallback for non-vacant properties */}
        {!isVacant && (
            <div class="bg-white border border-dashed border-gray-300 p-6 rounded-sm text-center">
                <h3 class="font-century text-lg font-bold text-schiketanz-red mb-2">Interested?</h3>
                <p class="text-xs text-gray-600 mb-4 font-bold uppercase tracking-tight">Currently Full — Contact for upcoming vacancies</p>
                <a href="tel:5197424477" class="text-lg font-bold text-gray-800 hover:text-schiketanz-red transition-colors block mb-4 underline">(519) 742-4477</a>
                <a href="/application" class="block w-full text-center border-2 border-schiketanz-red text-schiketanz-red font-bold py-2 px-4 rounded hover:bg-red-50 transition-colors">
                    Get Application
                </a>
            </div>
        )}
      </div>
    </div>
  </PageContainer>
</Layout>
</file>

<file path="src/pages/maintenance.astro">
---
export const prerender = true; // to ensure form is detected

import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import PageContainer from '../components/PageContainer.astro';

// Building Data (Group 1 vs Group 2)
const buildings = [
    { name: "Bluebird Apartments", group: 1 },
    { name: "Bridge Apts", group: 1 },
    { name: "Chicopee Court", group: 2 },
    { name: "Chicopee Terrace", group: 2 },
    { name: "Confederation Apts", group: 1 },
    { name: "Heritage Apts", group: 1 },
    { name: "Hickory Apts", group: 2 },
    { name: "Holborn Apts", group: 2 },
    { name: "Kloster Court", group: 1 },
    { name: "Lorraine Apts", group: 1 },
    { name: "Margaret Apartment", group: 1 },
    { name: "Panorama Terrace", group: 1 },
    { name: "Parkview Apartments", group: 1 },
    { name: "Princess Apartments", group: 2 },
    { name: "Richelieu Apartments", group: 1 },
    { name: "Stanley Park Apts", group: 1 },
    { name: "Traynor Avenue", group: 2 },
].sort((a, b) => a.name.localeCompare(b.name));

// Reusable Tailwind classes for form inputs to ensure pixel-perfect consistency
const inputClasses = "w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:ring-2 focus:ring-schiketanz-red focus:border-schiketanz-red outline-none transition-all bg-white";
const labelClasses = "block text-sm font-bold text-gray-700 mb-1.5";
---

<Layout title="Maintenance Request | Schiketanz Real Estate">
  <PageContainer>
    <PageHeader 
      title="Maintenance Request" 
      subtitle="Submit a work order directly to your building superintendent."
      breadcrumb={[{ text: 'Maintenance', href: '/maintenance' }]}
    />

    <div class="max-w-3xl mx-auto space-y-6">
        
        <!-- Building Selection Card -->
        <div class="bg-gray-50 p-6 rounded-sm border border-gray-200 shadow-sm">
            <label for="building-selector" class="block text-lg font-bold text-gray-800 mb-3">
                Select your building:
            </label>
            <div class="relative">
                <select id="building-selector" class={inputClasses + " cursor-pointer text-lg"}>
                    <option value="" disabled selected>-- Choose Building --</option>
                    {buildings.map(b => (
                        <option value={b.name} data-group={b.group}>{b.name}</option>
                    ))}
                </select>
            </div>
        </div>

        <!-- FORM CONTAINER -->
        <div class="bg-white p-6 md:p-10 rounded-sm shadow-sm border border-gray-200 min-h-[400px]">
            <!-- Default State: No Building Selected -->
            <div id="no-selection-msg" class="text-center text-gray-400 py-16">
                <svg class="w-16 h-16 mx-auto mb-4 opacity-20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                </svg>
                <p class="text-xl font-medium">Select a building to load the request form.</p>
            </div>
            <!-- GROUP 1 FORM -->
            <form 
                id="form-group-1"
                name="maintenance-group-1" 
                method="POST" 
                data-netlify="true" 
                netlify-honeypot="bot-field"
                enctype="multipart/form-data"
                action="/success"
                class="space-y-6 hidden animate-fade-in"
            >
                <div class="bg-blue-50 border-l-4 border-blue-600 p-4 mb-6">
                    <p class="text-sm text-blue-800 font-bold uppercase tracking-tight">Request Routing: Group 1 Management</p>
                </div>

                <input type="hidden" name="form-name" value="maintenance-group-1" />
                <p class="hidden"><label>Bot: <input name="bot-field" /></label></p>
                <input type="hidden" name="building_name" class="selected-building-input" />
                <input type="hidden" name="subject" value="New Maintenance Request (Group 1)" />

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="g1-fullName" class={labelClasses}>Full Name *</label>
                        <input type="text" id="g1-fullName" name="fullName" required class={inputClasses} />
                    </div>
                    <div>
                        <label for="g1-phone" class={labelClasses}>Phone Number *</label>
                        <input type="tel" id="g1-phone" name="phone" required class={inputClasses} />
                    </div>
                </div>

                <div>
                    <label for="g1-email" class={labelClasses}>Email Address *</label>
                    <input type="email" id="g1-email" name="email" required class={inputClasses} />
                </div>

                <div class="w-full md:w-1/3">
                    <label for="g1-unit" class={labelClasses}>Unit Number *</label>
                    <input type="text" id="g1-unit" name="unit" required class={inputClasses} />
                </div>

                <div>
                    <label for="g1-issue" class={labelClasses}>Description of Request *</label>
                    <textarea id="g1-issue" name="issue" rows="4" required placeholder="Please provide details about the repair needed..." class={inputClasses}></textarea>
                </div>

                <div class="bg-gray-50 p-5 border border-gray-200 rounded-sm">
                    <label for="g1-photos" class={labelClasses}>Upload Photo (Optional)</label>
                    <input type="file" id="g1-photos" name="photos" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-sm file:border-0 file:text-sm file:font-bold file:bg-gray-200 file:text-gray-700 hover:file:bg-gray-300 cursor-pointer" />
                </div>

                <div class="bg-gray-50 p-6 border border-gray-200 rounded-sm space-y-5">
                    <p class="text-xs font-black text-gray-500 uppercase tracking-widest">Entry Permission & Security</p>
                    <div class="flex items-start">
                        <div class="flex items-center h-5">
                            <input id="g1-entry" name="entry_permission" type="checkbox" value="yes" class="w-5 h-5 text-schiketanz-red border-gray-300 rounded-sm focus:ring-schiketanz-red" />
                        </div>
                        <div class="ml-3 text-sm">
                            <label for="g1-entry" class="font-bold text-gray-800">
                                I grant permission for the Landlord/Agent to enter my unit to perform this repair.
                            </label>
                            <p class="text-gray-500">Entry will be made during standard business hours.</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 pt-2">
                        <div>
                            <label for="g1-pets" class={labelClasses}>Do you have pets?</label>
                            <select id="g1-pets" name="pets" class={inputClasses}>
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>
                        <div>
                            <label for="g1-alarm" class={labelClasses}>Is there an alarm?</label>
                            <select id="g1-alarm" name="alarm" class={inputClasses}>
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="pt-4">
                    <button type="submit" class="w-full md:w-auto px-10 py-4 bg-schiketanz-red text-white font-bold rounded-sm shadow-md hover:bg-schiketanz-red-dark transition-all hover:-translate-y-0.5 active:translate-y-0">
                        Submit Maintenance Request
                    </button>
                </div>
            </form>

            <!-- GROUP 2 FORM -->
            <form 
                id="form-group-2"
                name="maintenance-group-2" 
                method="POST" 
                data-netlify="true" 
                netlify-honeypot="bot-field"
                enctype="multipart/form-data"
                action="/success"
                class="space-y-6 hidden animate-fade-in"
            >
                <div class="bg-green-50 border-l-4 border-green-600 p-4 mb-6">
                    <p class="text-sm text-green-800 font-bold uppercase tracking-tight">Request Routing: Group 2 Management</p>
                </div>

                <input type="hidden" name="form-name" value="maintenance-group-2" />
                <p class="hidden"><label>Bot: <input name="bot-field" /></label></p>
                <input type="hidden" name="building_name" class="selected-building-input" />
                <input type="hidden" name="subject" value="New Maintenance Request (Group 2)" />

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="g2-fullName" class={labelClasses}>Full Name *</label>
                        <input type="text" id="g2-fullName" name="fullName" required class={inputClasses} />
                    </div>
                    <div>
                        <label for="g2-phone" class={labelClasses}>Phone Number *</label>
                        <input type="tel" id="g2-phone" name="phone" required class={inputClasses} />
                    </div>
                </div>

                <div>
                    <label for="g2-email" class={labelClasses}>Email Address *</label>
                    <input type="email" id="g2-email" name="email" required class={inputClasses} />
                </div>

                <div class="w-full md:w-1/3">
                    <label for="g2-unit" class={labelClasses}>Unit Number *</label>
                    <input type="text" id="g2-unit" name="unit" required class={inputClasses} />
                </div>

                <div>
                    <label for="g2-issue" class={labelClasses}>Description of Request *</label>
                    <textarea id="g2-issue" name="issue" rows="4" required placeholder="Please provide details about the repair needed..." class={inputClasses}></textarea>
                </div>

                <div class="bg-gray-50 p-5 border border-gray-200 rounded-sm">
                    <label for="g2-photos" class={labelClasses}>Upload Photo (Optional)</label>
                    <input type="file" id="g2-photos" name="photos" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-sm file:border-0 file:text-sm file:font-bold file:bg-gray-200 file:text-gray-700 hover:file:bg-gray-300 cursor-pointer" />
                </div>

                <div class="bg-gray-50 p-6 border border-gray-200 rounded-sm space-y-5">
                    <p class="text-xs font-black text-gray-500 uppercase tracking-widest">Entry Permission & Security</p>
                    <div class="flex items-start">
                        <div class="flex items-center h-5">
                            <input id="g2-entry" name="entry_permission" type="checkbox" value="yes" class="w-5 h-5 text-schiketanz-red border-gray-300 rounded-sm focus:ring-schiketanz-red" />
                        </div>
                        <div class="ml-3 text-sm">
                            <label for="g2-entry" class="font-bold text-gray-800">
                                I grant permission for the Landlord/Agent to enter my unit to perform this repair.
                            </label>
                            <p class="text-gray-500">Entry will be made during standard business hours.</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 pt-2">
                        <div>
                            <label for="g2-pets" class={labelClasses}>Do you have pets?</label>
                            <select id="g2-pets" name="pets" class={inputClasses}>
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>
                        <div>
                            <label for="g2-alarm" class={labelClasses}>Is there an alarm?</label>
                            <select id="g2-alarm" name="alarm" class={inputClasses}>
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="pt-4">
                    <button type="submit" class="w-full md:w-auto px-10 py-4 bg-schiketanz-red text-white font-bold rounded-sm shadow-md hover:bg-schiketanz-red-dark transition-all hover:-translate-y-0.5 active:translate-y-0">
                        Submit Maintenance Request
                    </button>
                </div>
            </form>

        </div>
    </div>
  </PageContainer>
</Layout>

<script>
    document.addEventListener('astro:page-load', () => {
        const selector = document.getElementById('building-selector') as HTMLSelectElement;
        const msg = document.getElementById('no-selection-msg');
        const form1 = document.getElementById('form-group-1') as HTMLFormElement;
        const form2 = document.getElementById('form-group-2') as HTMLFormElement;
        const hiddenInputs = document.querySelectorAll('.selected-building-input');

        const toggleForm = (form: HTMLFormElement | null, shouldShow: boolean) => {
            if (!form) return;
            if (shouldShow) {
                form.classList.remove('hidden');
                Array.from(form.elements).forEach((el: any) => el.disabled = false);
            } else {
                form.classList.add('hidden');
                Array.from(form.elements).forEach((el: any) => el.disabled = true);
            }
        };
        // init
        if (form1) toggleForm(form1, false);
        if (form2) toggleForm(form2, false);
        if(selector) {
            selector.addEventListener('change', (e) => {
                const target = e.target as HTMLSelectElement;
                const option = target.options[target.selectedIndex];
                const group = option.dataset.group;
                const buildingName = target.value;
                if(msg) msg.classList.add('hidden');
                hiddenInputs.forEach((input) => { (input as HTMLInputElement).value = buildingName; });
                toggleForm(form1, group === '1');
                toggleForm(form2, group === '2');
            });
        }
    });
</script>

<style>
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
        animation: fadeIn 0.3s ease-out forwards;
    }
</style>
</file>

<file path="src/pages/pad-form.astro">
---
export const prerender = true;
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import PageContainer from '../components/PageContainer.astro';

// Reusable Tailwind classes for form consistency
const inputClasses = "w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:ring-2 focus:ring-schiketanz-red focus:border-schiketanz-red outline-none transition-all bg-white placeholder:text-gray-400";
const labelClasses = "block text-sm font-bold text-gray-700 mb-1.5";
---

<Layout title="Pre-Authorized Debit Form | Schiketanz Real Estate">
  <PageContainer>
    <PageHeader 
      title="Pre-Authorized Debit (PAD)" 
      subtitle="Enroll in automatic rent payments directly from your bank account."
      breadcrumb={[{ text: 'PAD Form', href: '/pad-form' }]}
    />

    <div class="max-w-3xl mx-auto">
        <!-- Main Form Card -->
        <div class="bg-white p-6 md:p-10 rounded-sm shadow-sm border border-gray-200">
            <div class="mb-8 border-b border-gray-100 pb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Enrollment Form</h2>
                <p class="text-gray-600">
                    Payments are automatically withdrawn from your account on the <span class="font-bold text-gray-800">first business day</span> of every month.
                </p>
            </div>

            <!-- NETLIFY FORM -->
            <form 
                name="pad-enrollment" 
                method="POST" 
                data-netlify="true" 
                netlify-honeypot="bot-field"
                enctype="multipart/form-data"
                class="space-y-6"
                action="/success"
            >
                <!-- Anti-Spam -->
                <p class="hidden">
                    <label>Bot Field: <input name="bot-field" /></label>
                </p>
                <input type="hidden" name="subject" value="New PAD Enrollment Submission" />

                <!-- Section: Personal Information -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="fullName" class={labelClasses}>Full Name *</label>
                        <input type="text" id="fullName" name="fullName" required placeholder="John Doe" class={inputClasses} />
                    </div>
                    <div>
                        <label for="email" class={labelClasses}>Email Address *</label>
                        <input type="email" id="email" name="email" required placeholder="email@example.com" class={inputClasses} />
                    </div>
                </div>

                <!-- Section: Rental Details -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="building" class={labelClasses}>Building Address *</label>
                        <input type="text" id="building" name="building" required placeholder="e.g. 582 Frederick St" class={inputClasses} />
                    </div>
                    <div class="w-full md:w-1/2">
                        <label for="unit" class={labelClasses}>Unit / Apt # *</label>
                        <input type="text" id="unit" name="unit" required placeholder="101" class={inputClasses} />
                    </div>
                </div>

                <!-- Section: Banking Document -->
                <div class="bg-gray-50 p-6 border border-gray-200 rounded-sm">
                    <label for="voidCheque" class={labelClasses}>Upload Void Cheque or Direct Deposit Form *</label>
                    <p class="text-xs text-gray-500 mb-4 uppercase tracking-wider font-bold">PDF, JPG, or PNG (Max 5MB)</p>
                    <input 
                        type="file" 
                        id="voidCheque" 
                        name="voidCheque" 
                        accept=".pdf,.jpg,.jpeg,.png" 
                        required 
                        class="w-full text-sm text-gray-500 file:mr-4 file:py-2.5 file:px-6 file:rounded-sm file:border-0 file:text-sm file:font-bold file:bg-gray-800 file:text-white hover:file:bg-gray-700 cursor-pointer transition-colors" 
                    />
                </div>

                <!-- Section: Authorization -->
                <div class="bg-blue-50/50 p-6 border border-blue-100 rounded-sm">
                    <div class="flex items-start">
                        <div class="flex items-center h-6">
                            <input 
                                id="consent" 
                                name="consent" 
                                type="checkbox" 
                                required 
                                class="w-5 h-5 border border-gray-300 rounded-sm text-schiketanz-red focus:ring-schiketanz-red cursor-pointer" 
                            />
                        </div>
                        <div class="ml-4">
                            <label for="consent" class="text-sm font-bold text-gray-900 block mb-1">
                                I Authorize M. Schiketanz Real Estate Inc. to debit my account.
                            </label>
                            <p class="text-xs text-gray-600 leading-relaxed">
                                I understand that the rental amount will be withdrawn automatically on the first business day of every month. I have the right to cancel this authorization at any time with written notice.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="pt-4 border-t border-gray-100">
                    <button type="submit" class="w-full md:w-auto px-10 py-4 bg-schiketanz-red text-white font-bold rounded-sm shadow-md hover:bg-schiketanz-red-dark transition-all hover:-translate-y-0.5 active:translate-y-0">
                        Submit PAD Agreement
                    </button>
                    <p class="text-[10px] text-gray-400 mt-4 uppercase tracking-widest font-medium">
                        Securely transmitted to Schiketanz Property Management
                    </p>
                </div>
            </form>
        </div>
    </div>
  </PageContainer>
</Layout>
</file>

<file path="src/pages/rentals.astro">
---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import { Image } from 'astro:assets';
import PageHeader from '../components/PageHeader.astro';
import PageContainer from '../components/PageContainer.astro';

// 1. Fetch and Sort Logic
const allRentals = await getCollection('rentals');
// Sort: Vacant (1) first, then Occupied (2), then alphabetical
const rentals = allRentals.sort((a, b) => {
  const statusA = a.data.vacancyStatus.discriminant === 'vacant' ? 1 : 2;
  const statusB = b.data.vacancyStatus.discriminant === 'vacant' ? 1 : 2;
  // If status is same, sort alphabetically by title
  return statusA !== statusB ? statusA - statusB : a.data.title.localeCompare(b.data.title);
});
---

<Layout title="Rental Properties | Schiketanz Real Estate">
  <PageContainer>
    <PageHeader 
      title="Rental Properties" 
      subtitle="Browse our residential and commercial listings. Contact our office for current availability."
      breadcrumb={[{ text: 'Rentals', href: '/rentals' }]}
    />
    <!-- Standardized Grid Gap: Matching the visual rhythm of other pages -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10">
      {rentals.map(rental => (
        <article class="group relative bg-white border border-gray-200 rounded-sm shadow-sm hover:shadow-md hover:border-gray-300 hover:-translate-y-1 transition-all duration-300 flex flex-col h-full">
          <!-- Entire card is clickable -->
          <a href={`/rentals/${rental.slug}`} class="absolute inset-0 z-20 focus:outline-none focus:ring-2 focus:ring-schiketanz-red focus:ring-offset-2 rounded-sm">
            <span class="sr-only">View {rental.data.title}</span>
          </a>

          <!-- Image Container -->
          <div class="aspect-[4/3] bg-gray-100 relative overflow-hidden rounded-t-sm">
             {rental.data.coverImage ? (
                <Image 
                    src={rental.data.coverImage} 
                    alt={rental.data.title} 
                    class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" 
                />
             ) : (
                <div class="w-full h-full flex items-center justify-center text-gray-400 bg-gray-50 text-[10px] font-bold uppercase tracking-widest">
                    No Image
                </div>
             )}
             
             <!-- Badge -->
             <div class:list={[
                 "absolute top-3 right-3 px-2.5 py-1 text-[10px] font-black uppercase tracking-wider text-white z-30 shadow-sm rounded-sm",
                 {
                    "bg-green-600": rental.data.vacancyStatus.discriminant === 'vacant',
                    "bg-gray-700/90": rental.data.vacancyStatus.discriminant === 'occupied'
                 }
             ]}>
                {rental.data.vacancyStatus.discriminant === 'vacant' ? 'Vacant' : 'No Vacancy'}
             </div>
          </div>

          <!-- Text Content -->
          <div class="p-5 border-t border-gray-50">
            <h2 class="text-lg font-bold text-gray-900 group-hover:text-schiketanz-red transition-colors duration-300 leading-tight mb-1">
              {rental.data.title}
            </h2>
            
            <div class="flex items-start text-gray-500">
                <svg class="w-3.5 h-3.5 mr-1.5 mt-0.5 shrink-0 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                </svg>
                <p class="text-xs font-medium">{rental.data.address}</p>
            </div>
          </div>
        </article>
      ))}
    </div>
    <!-- Empty State -->
    {rentals.length === 0 && (
        <div class="py-20 text-center bg-gray-50 border border-dashed border-gray-200 rounded-sm">
            <p class="text-gray-400 font-medium">No rental properties found.</p>
        </div>
    )}
  </PageContainer>
</Layout>
</file>

<file path="package.json">
{
  "name": "schiketanz",
  "type": "module",
  "version": "0.0.1",
  "scripts": {
    "dev": "astro dev",
    "build": "astro build",
    "preview": "astro preview",
    "astro": "astro"
  },
  "dependencies": {
    "@astrojs/markdoc": "^0.15.10",
    "@astrojs/mdx": "^4.3.13",
    "@astrojs/netlify": "^6.6.4",
    "@astrojs/node": "^9.5.1",
    "@astrojs/react": "^4.2.0",
    "@astrojs/sitemap": "^3.7.0",
    "@fontsource/open-sans": "^5.2.7",
    "@keystatic/astro": "^5.0.6",
    "@keystatic/core": "^0.5.48",
    "@tailwindcss/vite": "^4.1.18",
    "astro": "^5.17.1",
    "react": "18.3.1",
    "react-dom": "18.3.1"
  },
  "devDependencies": {
    "@types/react": "18.3.12",
    "@types/react-dom": "18.3.1",
    "tailwindcss": "^4.1.18"
  }
}
</file>

<file path="astro.config.mjs">
// @ts-check
import { defineConfig } from 'astro/config';
import react from '@astrojs/react';
import keystatic from '@keystatic/astro';
import mdx from '@astrojs/mdx';
import sitemap from '@astrojs/sitemap';
import netlify from '@astrojs/netlify';
import tailwindcss from '@tailwindcss/vite';

export default defineConfig({
  site: 'https://schiketanz.fromconcentrate.ca',
  output: 'static',
  adapter: netlify({
    imageCDN: false 
  }),
  integrations: [
    react(),
    mdx(),
    keystatic(),
    sitemap(),
  ],
  vite: {
    plugins: [tailwindcss()],
    optimizeDeps: {
      exclude: ['@keystatic/astro', '@keystatic/core']
    }
  },
});
</file>

<file path="keystatic.config.ts">
import { config, fields, collection } from '@keystatic/core';

const isLocal = process.env.NODE_ENV === 'development' || !process.env.NETLIFY;

export default config({
  storage: isLocal ? { kind: 'local' } : { kind: 'cloud' },
  cloud: {
    project: 'fromconcentrateclien/schiketanz',
  },
  collections: {
    rentals: collection({
      label: 'Rental Properties',
      slugField: 'title',
      path: 'src/content/rentals/*',
      format: { contentField: 'content' },
      schema: {
        title: fields.slug({ name: { label: 'Property Name/Address' } }),
        // Binary Vacancy Status with conditional fields for pricing
        vacancyStatus: fields.conditional(
          fields.select({
            label: 'Availability',
            description: 'Is there currently space available in this building?',
            options: [
              { label: 'No Vacancy', value: 'occupied' },
              { label: 'Vacancies Available', value: 'vacant' },
            ],
            defaultValue: 'occupied'
          }),
          {
            occupied: fields.empty(),
            vacant: fields.array(
              fields.object({
                unitType: fields.text({ label: 'Unit Type (e.g. 2 Bedroom)' }),
                price: fields.text({ label: 'Starting Price (e.g. $1850.00 + Hydro)' }),
              }),
              {
                label: 'Available Units',
                itemLabel: (props) => props.fields.unitType.value || 'New Unit Listing',
              }
            )
          }
        ),

        address: fields.text({ label: 'Full Address' }),
        coverImage: fields.image({
          label: 'Building Photo',
          directory: 'src/assets/rentals', 
          publicPath: '../../assets/rentals/', 
        }),
        iGuideUrl: fields.url({
          label: 'iGuide Virtual Tour URL',
          description: 'If this property has an iGuide/3D tour, paste the link here.',
        }),

        // Structured specs that will only show if filled out
        specs: fields.object({
          stories: fields.text({ label: 'Stories (e.g. 9)' }),
          totalUnits: fields.text({ label: 'Number of Units' }),
          elevators: fields.text({ label: 'Elevators' }),
          laundry: fields.text({ label: 'Laundry (e.g. On-site)' }),
          sqft: fields.text({ label: 'Unit Sq. Footage' }),
          utilities: fields.text({ label: 'Utilities Note (e.g. Rent includes utilities)' }),
        }),

        gallery: fields.array(
          fields.image({
            label: 'Gallery Image',
            directory: 'src/assets/rentals', 
            publicPath: '../../assets/rentals/',
          }),
          {
            label: 'Property Photo Gallery',
            itemLabel: (props) => 'Photo',
          }
        ),
        content: fields.mdx({
          label: 'Description & Amenities',
        }),
      },
    }),

    news: collection({
      label: 'News & Notices',
      slugField: 'title',
      path: 'src/content/news/*',
      format: { contentField: 'content' },
      schema: {
        title: fields.slug({ name: { label: 'Title' } }),
        date: fields.date({ label: 'Date Posted' }),
        content: fields.mdx({
          label: 'Content',
        }),
      }
    })
  },
});
</file>

</files>
