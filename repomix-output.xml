
<directory_structure>
astro.config.mjs
keystatic.config.ts
src/components/Footer.astro
src/components/Logo.astro
src/components/Navbar.astro
src/components/PageHeader.astro
src/components/PropertyGallery.astro
src/content/config.ts
src/layouts/Layout.astro
src/pages/404.astro
src/pages/about.astro
src/pages/application.astro
src/pages/commercial.astro
src/pages/contact.astro
src/pages/index.astro
src/pages/maintenance.astro
src/pages/more.astro
src/pages/pad-form.astro
src/pages/rentals.astro
src/pages/rentals/[id].astro
src/styles/global.css
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/components/Logo.astro">
---
interface Props {
  class?: string;
  as?: string;
}

const { class: className = "", as: Element = "div" } = Astro.props;
---

<Element class:list={["inline-flex flex-col leading-none select-none w-fit", className]}>
  <!-- 
    TOP LINE:
    1. font-century: Uses the Regular font file.
    2. font-bold: Turns on browser synthetic bold (base thickness).
    3. [-webkit-text-stroke:...]: Adds micro-thickness. 
       - If still too thin, change 0.015em to 0.02em.
       - If too thick, change to 0.01em.
    4. tracking-[0.01em]: Custom spacing (tighter than 'wide', looser than 'normal').
  -->
  <span class="font-century font-bold text-[1em] tracking-[0.01em] [-webkit-text-stroke:0.015em_currentColor] whitespace-nowrap">
    M. Schiketanz
  </span>
  
  <!-- 
    BOTTOM LINE:
    1. Reduced tracking from [0.2em] to [0.14em].
    2. Adjusted right margin slightly to account for new width.
  -->
  <span class="font-century text-[0.36em] tracking-[0.14em] text-right -mt-[0.05em] mr-[0.02em] opacity-90">
    real estate inc.
  </span>
</Element>
</file>

<file path="src/components/Navbar.astro">
---
const navLinks = [
  { name: "Home", href: "/" },
  { name: "About", href: "/about" },
  { name: "Rentals", href: "/rentals" },
  { name: "Contact and Hours", href: "/contact" },
  { name: "Maintenance Request", href: "/maintenance" },
  { name: "PAD Form", href: "/pad-form" },
  { name: "Application", href: "/application" },
  { name: "More", href: "/more" },
];

const currentPath = Astro.url.pathname;
---

<nav class="w-full border-t border-white/20">
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden lg:hidden bg-schiketanz-red border-t border-white/20 pb-4">
        <ul class="flex flex-col">
            {navLinks.map(link => (
                <li>
                    <a 
                        href={link.href} 
                        class="block text-white py-3 px-0 hover:text-gray-200 border-b border-white/10 text-sm font-medium"
                    >
                        {link.name}
                    </a>
                </li>
            ))}
        </ul>
    </div>

    <!-- Desktop Menu (Left Aligned) -->
    <div class="hidden lg:block w-full">
        <ul class="flex justify-start space-x-6">
            {navLinks.map(link => (
                <li>
                    <a 
                        href={link.href} 
                        class:list={[
                            "block text-white py-3 text-[15px] font-normal hover:text-gray-200 hover:underline transition-all",
                            // subtle underline for the active page
                            { "underline decoration-2 decoration-white underline-offset-4": currentPath === link.href }
                        ]}
                    >
                        {link.name}
                    </a>
                </li>
            ))}
        </ul>
    </div>
</nav>
</file>

<file path="src/components/PageHeader.astro">
---
interface Props {
  title: string;
  subtitle?: string;
  breadcrumb?: { text: string; href: string }[];
}

const { title, subtitle, breadcrumb } = Astro.props;
---

<div class="mb-8 border-b border-gray-200 pb-4">
  {breadcrumb && (
    <nav class="flex items-center text-sm text-gray-500 mb-4" aria-label="Breadcrumb">
      <a href="/" class="hover:text-[var(--color-schiketanz-red)] transition-colors">Home</a>
      {breadcrumb.map((crumb) => (
        <>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mx-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
          <a href={crumb.href} class="hover:text-[var(--color-schiketanz-red)] transition-colors">
            {crumb.text}
          </a>
        </>
      ))}
    </nav>
  )}

  <h1 class="font-century font-bold text-4xl text-[var(--color-schiketanz-red)] mb-3">
    {title}
  </h1>
  
  {subtitle && (
    <p class="text-gray-600 text-lg max-w-3xl leading-relaxed">
      {subtitle}
    </p>
  )}
</div>
</file>

<file path="src/pages/about.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
---

<Layout title="About Us | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="About Us" 
      subtitle="We are the small company doing big things."
      breadcrumb={[{ text: 'About', href: '/about' }]}
    />

    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 text-lg text-gray-700 leading-relaxed font-sans">
      <div>
        <h2 class="font-century font-bold text-2xl text-gray-800 mb-4">Our History</h2>
        <p class="mb-6">
          M. Schiketanz Real Estate was founded by Margaret Schiketanz in 1953. For 68 years, our office operated from the same premises on King Street East. We have since moved to our current modern office at 582 Frederick St., Kitchener.
        </p>
        <p>
            We have built this business on superior service using fair and honest practices. We manage many residential and commercial properties located in the KW Region, ensuring our buildings are well maintained and cared for by a truly dedicated team of individualsâ€”many of whom are long-term employees.
        </p>
      </div>

      <div class="bg-gray-50 p-8 border-l-4 border-[var(--color-schiketanz-red)] rounded-sm">
        <h3 class="font-century font-bold text-xl text-[var(--color-schiketanz-red)] mb-4">
          Our Commitment
        </h3>
        <p class="italic text-gray-600 mb-4">
          "Our personalized service will help you make your apartment into a home."
        </p>
        <p>
            We will treat you with respect and do everything we can to make your tenancy comfortable. Whether you are looking for a bachelor apartment or a family home, our dedicated team is here to assist you.
        </p>
      </div>
    </div>
  </div>
</Layout>
</file>

<file path="src/pages/application.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
---

<Layout title="Rental Application | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="Rental Application" 
      breadcrumb={[{ text: 'Application', href: '/application' }]}
    />

    <div class="max-w-3xl mx-auto">
        <div class="prose max-w-none text-gray-700 mb-8">
            <p class="text-lg">
                Thank you for your interest in our properties. To apply for a rental unit, please download the application form below. 
            </p>
            <p>
                Please ensure all sections are completed legibly. Incomplete applications may result in processing delays.
            </p>
        </div>

        <!-- Checklist -->
        <div class="bg-blue-50 border border-blue-200 p-6 rounded-sm mb-8">
            <h3 class="font-century font-bold text-xl text-blue-900 mb-4">Required Documents</h3>
            <ul class="space-y-3">
                <li class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mr-3 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span>Completed and signed Application Form</span>
                </li>
                <li class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mr-3 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span>Proof of Income (e.g., recent pay stub, employment letter)</span>
                </li>
                <li class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mr-3 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span>Photo Identification (Driver's License or Passport)</span>
                </li>
                <li class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mr-3 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span>Last Month's Rent Deposit (Upon approval)</span>
                </li>
            </ul>
        </div>

        <!-- Download Section -->
        <div class="text-center py-8 border-t border-b border-gray-200 mb-8">
            <!-- Ensure you put the actual PDF in public/forms/application.pdf -->
            <a href="/forms/application.pdf" target="_blank" class="inline-flex items-center bg-[var(--color-schiketanz-red)] text-white font-century font-bold text-lg px-8 py-4 rounded hover:bg-red-700 transition-colors shadow-md">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                Download Application PDF
            </a>
            <p class="text-sm text-gray-500 mt-4">
                Right-click and "Save Link As" to download to your computer.
            </p>
        </div>

        <div class="text-center">
            <h3 class="font-bold text-gray-800 mb-2">Submission</h3>
            <p class="text-gray-600">
                Please email your completed application to <a href="mailto:office@schiketanz.ca" class="text-[var(--color-schiketanz-red)] hover:underline">office@schiketanz.ca</a><br/>
                or drop it off at our office during business hours.
            </p>
        </div>
    </div>
  </div>
</Layout>
</file>

<file path="src/pages/commercial.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import { Image } from 'astro:assets';
// You'll need to add a placeholder image or remove this Image component until you have one
// import forestHillImg from '../assets/commercial/forest-hill.jpg'; 
---

<Layout title="Commercial Leasing | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="Commercial Properties" 
      subtitle="Retail and office space management in the Kitchener-Waterloo region."
      breadcrumb={[{ text: 'Commercial', href: '/commercial' }]}
    />

    <article class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
        <!-- Image Placeholder -->
        <div class="bg-gray-200 h-80 lg:h-auto w-full rounded-sm flex items-center justify-center text-gray-500 border border-gray-300">
            <!-- <Image src={forestHillImg} alt="Forest Hill Shopping Centre" class="w-full h-full object-cover" /> -->
            <span class="font-century">Forest Hill Shopping Centre Photo</span>
        </div>

        <!-- Content -->
        <div class="flex flex-col justify-center">
            <h2 class="font-century font-bold text-3xl text-gray-800 mb-2">Forest Hill Shopping Centre</h2>
            <p class="text-gray-500 text-lg mb-6">582 Frederick Street, Kitchener, ON</p>

            <div class="prose text-gray-700 mb-8">
                <p>
                    Centrally located at the intersection of Frederick Street and Edna Street, the Forest Hill Shopping Centre serves as a hub for the local community.
                </p>
                <p>
                    The plaza features a diverse mix of tenants, including medical offices, retail stores, and M. Schiketanz Real Estate's own headquarters.
                </p>
                <ul class="list-disc pl-5 space-y-2 mt-4">
                    <li>High traffic visibility</li>
                    <li>Ample parking for customers</li>
                    <li>Professional property management on-site</li>
                </ul>
            </div>

            <div class="bg-gray-50 p-6 border-l-4 border-[var(--color-schiketanz-red)]">
                <h3 class="font-bold text-gray-800 mb-2">Leasing Inquiries</h3>
                <p class="text-gray-600 mb-4">
                    Interested in establishing your business here? Contact us to discuss current availability and rates.
                </p>
                <a href="/contact" class="text-[var(--color-schiketanz-red)] font-bold hover:underline">
                    Contact Leasing Office &rarr;
                </a>
            </div>
        </div>
    </article>
  </div>
</Layout>
</file>

<file path="src/pages/contact.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
---

<Layout title="Contact & Hours | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="Contact & Hours" 
      breadcrumb={[{ text: 'Contact', href: '/contact' }]}
    />

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
      
      <!-- Contact Info -->
      <div class="space-y-8">
        <div class="bg-white p-6 shadow-sm border border-gray-200 rounded-sm">
            <h3 class="font-century font-bold text-xl text-gray-800 mb-4 border-b pb-2">Office Hours</h3>
            <ul class="space-y-2 text-gray-700">
                <li class="flex justify-between">
                    <span class="font-bold">Monday - Thursday:</span>
                    <span>8:30am - 4:30pm</span>
                </li>
                <li class="flex justify-between">
                    <span class="font-bold">Friday:</span>
                    <span>8:30am - 1:00pm</span>
                </li>
                <li class="flex justify-between text-gray-500">
                    <span class="font-bold">Saturday & Sunday:</span>
                    <span>Closed</span>
                </li>
            </ul>
        </div>

        <div>
            <h3 class="font-century font-bold text-xl text-gray-800 mb-4">Get In Touch</h3>
            <div class="space-y-4 text-gray-700">
                <p class="flex items-start">
                    <svg class="w-6 h-6 text-[var(--color-schiketanz-red)] mr-3 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                    <span>
                        582 Frederick St.<br/>
                        Kitchener, ON, N2B 2A9
                    </span>
                </p>
                <p class="flex items-center">
                    <svg class="w-6 h-6 text-[var(--color-schiketanz-red)] mr-3 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
                    <a href="tel:5197424477" class="hover:underline">(519) 742-4477</a>
                </span>
                </p>
                <p class="flex items-center">
                    <svg class="w-6 h-6 text-[var(--color-schiketanz-red)] mr-3 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                    <a href="mailto:office@schiketanz.ca" class="hover:underline">office@schiketanz.ca</a>
                </p>
            </div>
        </div>
      </div>

      <!-- Map -->
      <div class="h-[400px] bg-gray-200 rounded-sm overflow-hidden border border-gray-300">
         <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2896.123456789!2d-80.463!3d43.456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDPCsDI3JzIxLjYiTiA4MMKwMjcnNDYuOCJX!5e0!3m2!1sen!2sca!4v1600000000000!5m2!1sen!2sca" 
            width="100%" 
            height="100%" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy"
            title="Map to 582 Frederick St">
        </iframe>
      </div>

    </div>
  </div>
</Layout>
</file>

<file path="src/pages/maintenance.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';

// Building data extracted from old site
const buildings = [
    { name: "Bluebird Apartments", group: 1 },
    { name: "Bridge Apts", group: 1 },
    { name: "Chicopee Court", group: 2 },
    { name: "Chicopee Terrace", group: 2 },
    { name: "Confederation Apts", group: 1 },
    { name: "Heritage Apts", group: 1 },
    { name: "Hickory Apts", group: 2 },
    { name: "Holborn Apts", group: 2 },
    { name: "Kloster Court", group: 1 },
    { name: "Lorraine Apts", group: 1 },
    { name: "Margaret Apartment", group: 1 },
    { name: "Panorama Terrace", group: 1 },
    { name: "Parkview Apartments", group: 1 },
    { name: "Princess Apartments", group: 2 },
    { name: "Richelieu Apartments", group: 1 },
    { name: "Stanley Park Apts", group: 1 },
    { name: "Traynor Avenue", group: 2 },
].sort((a, b) => a.name.localeCompare(b.name));
---

<Layout title="Maintenance Request | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="Maintenance Request" 
      subtitle="Please select your building below to find the correct contact information for your Superintendent."
      breadcrumb={[{ text: 'Maintenance', href: '/maintenance' }]}
    />

    <div class="max-w-xl mx-auto bg-gray-50 border border-gray-200 p-8 rounded-sm shadow-sm">
        
        <label for="building-select" class="block text-lg font-bold text-gray-700 mb-2">
            I live in:
        </label>
        <select id="building-select" class="w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-[var(--color-schiketanz-red)] focus:border-[var(--color-schiketanz-red)] outline-none bg-white mb-6">
            <option value="" disabled selected>-- Select your building --</option>
            {buildings.map(b => (
                <option value={b.group}>{b.name}</option>
            ))}
        </select>

        <!-- Result Containers (Hidden by default) -->
        <div id="group-1-info" class="hidden text-center animate-fade-in">
            <div class="bg-blue-50 text-blue-900 p-4 rounded mb-4">
                <p class="font-bold text-lg">Your Property Manager (Group 1)</p>
            </div>
            <p class="mb-4 text-gray-600">Please email your maintenance request to:</p>
            <a href="mailto:group1@schiketanz.ca" class="inline-block bg-[var(--color-schiketanz-red)] text-white font-bold py-3 px-6 rounded hover:bg-opacity-90 transition-all">
                Email Group 1 Maintenance
            </a>
            <p class="mt-4 text-sm text-gray-500">Or call the office at (519) 742-4477</p>
        </div>

        <div id="group-2-info" class="hidden text-center animate-fade-in">
             <div class="bg-green-50 text-green-900 p-4 rounded mb-4">
                <p class="font-bold text-lg">Your Property Manager (Group 2)</p>
            </div>
            <p class="mb-4 text-gray-600">Please email your maintenance request to:</p>
            <a href="mailto:group2@schiketanz.ca" class="inline-block bg-[var(--color-schiketanz-red)] text-white font-bold py-3 px-6 rounded hover:bg-opacity-90 transition-all">
                Email Group 2 Maintenance
            </a>
            <p class="mt-4 text-sm text-gray-500">Or call the office at (519) 742-4477</p>
        </div>

    </div>
  </div>
</Layout>

<script>
    document.addEventListener('astro:page-load', () => {
        const select = document.getElementById('building-select') as HTMLSelectElement;
        const g1 = document.getElementById('group-1-info');
        const g2 = document.getElementById('group-2-info');

        if(select && g1 && g2) {
            select.addEventListener('change', (e) => {
                const val = (e.target as HTMLSelectElement).value;
                
                // Reset
                g1.classList.add('hidden');
                g2.classList.add('hidden');

                if(val === '1') g1.classList.remove('hidden');
                if(val === '2') g2.classList.remove('hidden');
            });
        }
    });
</script>
</file>

<file path="src/pages/more.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
import { getCollection } from 'astro:content';

const newsEntries = await getCollection('news');
const sortedNews = newsEntries.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title="News & Resources | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="News & Resources" 
      breadcrumb={[{ text: 'More', href: '/more' }]}
    />

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
        
        <!-- Left Col: News Feed -->
        <div class="lg:col-span-2">
            <h2 class="font-century font-bold text-2xl text-gray-800 mb-6 flex items-center">
                <span class="bg-[var(--color-schiketanz-red)] w-2 h-8 mr-3 block"></span>
                Notices & Newsletters
            </h2>
            
            <div class="space-y-8">
                {sortedNews.length > 0 ? sortedNews.map(item => (
                    <article class="bg-white p-6 border border-gray-200 rounded-sm shadow-sm hover:shadow-md transition-shadow">
                        <header class="mb-3">
                            <span class="text-sm text-gray-500 font-bold uppercase tracking-wider">
                                {item.data.date.toLocaleDateString('en-CA', { year: 'numeric', month: 'long', day: 'numeric' })}
                            </span>
                            <h3 class="text-xl font-century font-bold text-gray-900 mt-1">
                                {item.data.title}
                            </h3>
                        </header>
                        <div class="prose text-gray-600 max-w-none">
                            {item.body}
                        </div>
                    </article>
                )) : (
                    <p class="text-gray-500 italic">No news postings available at this time.</p>
                )}
            </div>
        </div>

        <!-- Right Col: Quick Links / Sitemap -->
        <div class="lg:col-span-1">
            <div class="bg-gray-50 p-6 rounded-sm border border-gray-200 sticky top-24">
                <h3 class="font-century font-bold text-lg text-gray-800 mb-4 border-b border-gray-200 pb-2">
                    Quick Resources
                </h3>
                <nav class="space-y-3">
                    <a href="/commercial" class="block text-gray-700 hover:text-[var(--color-schiketanz-red)] transition-colors flex items-center group">
                        <svg class="w-4 h-4 mr-2 text-gray-400 group-hover:text-[var(--color-schiketanz-red)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
                        Commercial Leasing
                    </a>
                    <a href="/pad-form" class="block text-gray-700 hover:text-[var(--color-schiketanz-red)] transition-colors flex items-center group">
                        <svg class="w-4 h-4 mr-2 text-gray-400 group-hover:text-[var(--color-schiketanz-red)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
                        PAD Form
                    </a>
                    <a href="/application" class="block text-gray-700 hover:text-[var(--color-schiketanz-red)] transition-colors flex items-center group">
                        <svg class="w-4 h-4 mr-2 text-gray-400 group-hover:text-[var(--color-schiketanz-red)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
                        Rental Application
                    </a>
                </nav>
            </div>
        </div>

    </div>
  </div>
</Layout>
</file>

<file path="src/pages/pad-form.astro">
---
import Layout from '../layouts/Layout.astro';
import PageHeader from '../components/PageHeader.astro';
---

<Layout title="Pre-Authorized Debit Form | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <PageHeader 
      title="Pre-Authorized Debit (PAD)" 
      subtitle="Set up automatic rent payments directly from your bank account."
      breadcrumb={[{ text: 'PAD Form', href: '/pad-form' }]}
    />

    <div class="max-w-3xl mx-auto">
        
        <div class="bg-white p-8 rounded-sm shadow-sm border border-gray-200 mb-8">
            <h2 class="font-century font-bold text-2xl text-gray-800 mb-4">How it works</h2>
            <p class="text-gray-700 mb-4">
                Pre-Authorized Debit (PAD) is the most convenient way to pay your rent. Payments are automatically withdrawn from your account on the first business day of every month, ensuring you never miss a payment deadline.
            </p>
            <p class="text-gray-700 mb-6">
                To enroll or update your banking information, please complete the form below.
            </p>

            <div class="bg-gray-100 p-4 rounded text-sm text-gray-600 mb-6 border-l-4 border-gray-400">
                <strong>Important:</strong> You must attach a "Void Cheque" or a Direct Deposit/Pre-Authorized Debit form provided by your bank to verify account details.
            </div>

            <div class="flex justify-center">
                 <!-- Ensure you put the actual PDF in public/forms/pad-form.pdf -->
                <a href="/forms/pad-form.pdf" target="_blank" class="inline-flex items-center bg-[var(--color-schiketanz-red)] text-white font-bold px-6 py-3 rounded hover:bg-red-700 transition-colors">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                    Download PAD Agreement
                </a>
            </div>
        </div>

        <div class="text-center text-gray-600">
            <p>Please return signed forms and void cheques to the Superintendent or the Main Office.</p>
        </div>
    </div>
  </div>
</Layout>
</file>

<file path="keystatic.config.ts">
import { config, fields, collection } from '@keystatic/core';

export default config({
  storage: {
    kind: 'local', // local for dev. in production swap to:
 // kind: 'github', repo: 'fromconcentrate/schiketanz' }
  },
  
  collections: {
    rentals: collection({
    label: 'Rental Properties',
    slugField: 'title',
    path: 'src/content/rentals/*',
    format: { contentField: 'content' },
    schema: {
        title: fields.slug({ name: { label: 'Property Name/Address' } }),

        vacancyStatus: fields.select({
            label: 'Vacancy Status',
            description: 'This determines what shows on the website.',
            options: [
                { label: 'No Vacancy', value: 'occupied' },
                { label: 'Vacancies Available', value: 'vacant' },
                { label: 'Waitlist Open', value: 'waitlist' }
            ],
            defaultValue: 'occupied'
        }),

        address: fields.text({ label: 'Full Address' }),
        
        coverImage: fields.image({
            label: 'Building Photo',
            directory: 'src/assets/rentals', 
            publicPath: '../../assets/rentals/', 
        }),

        iGuideUrl: fields.url({
            label: 'iGuide Virtual Tour URL',
            description: 'If this property has an iGuide/3D tour, paste the link here.',
        }),

        gallery: fields.array(
            fields.image({
                label: 'Gallery Image',
                directory: 'src/assets/rentals', 
                publicPath: '../../assets/rentals/',
            }),
            {
                label: 'Property Photo Gallery',
                itemLabel: (props) => 'Photo',
            }
        ),

        content: fields.mdx({
            label: 'Description & Amenities',
        }),
    },
  }),

    // News / Notices (middle column on homepage)
    news: collection({
        label: 'News & Notices',
        slugField: 'title',
        path: 'src/content/news/*',
        format: { contentField: 'content' },
        schema: {
            title: fields.slug({ name: { label: 'Title' } }),
            date: fields.date({ label: 'Date Posted' }),
            content: fields.mdx({
                label: 'Content',
            }),
        }
    })
  },
});
</file>

<file path="src/components/Footer.astro">
---
const year = new Date().getFullYear();
---

<footer class="bg-gray-800 text-white py-8 mt-auto">
    <div class="container mx-auto px-4 text-center">
        
        <div class="flex justify-center gap-6 mb-6 text-sm text-gray-300">
            <a href="/" class="hover:text-white hover:underline">Home</a>
            <a href="/contact" class="hover:text-white hover:underline">Contact Us</a>
            <!-- could include "privacy policy" for SEO and trust -->
            <a href="#" class="hover:text-white hover:underline">Privacy Policy</a>
        </div>

        <div class="text-xs text-gray-500 border-t border-gray-700 pt-4">
                    <div class="mb-4">
            <p class="text-gray-400 text-sm">
                Kitchener-Waterloo Real Estate Management
            </p>
            &copy; {year} Schiketanz Real Estate Inc.
        </div>
        
    </div>
</footer>
</file>

<file path="src/components/PropertyGallery.astro">
---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
  images: ImageMetadata[];
  title: string;
}

const { images, title } = Astro.props;
---

<div class="relative w-full group border-2 border-[var(--color-schiketanz-red)] rounded-sm bg-gray-50" id="gallery-container">
  
  <!-- Scrollable Container -->
  <div 
    id="carousel-track"
    class="flex overflow-x-auto snap-x snap-mandatory scrollbar-hide scroll-smooth aspect-video relative"
  >
    {images.map((imgObj, index) => (
      <div class="flex-none w-full h-full snap-center relative flex items-center justify-center bg-gray-100 gallery-slide">
        <Image 
          src={imgObj} 
          alt={`${title} - Photo ${index + 1}`}
          class="w-full h-full object-cover"
        />
      </div>
    ))}
  </div>

  <!-- Navigation Arrows & Dots (Only show if more than 1 image) -->
  {images.length > 1 && (
    <>
      <button 
        id="prev-btn"
        class="absolute left-2 top-1/2 -translate-y-1/2 bg-[var(--color-schiketanz-red)]/90 hover:bg-[var(--color-schiketanz-red)] text-white p-2 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-all duration-300 focus:opacity-100 translate-x-[-10px] group-hover:translate-x-0 cursor-pointer z-10"
        aria-label="Previous image"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
      </button>
      <button 
        id="next-btn"
        class="absolute right-2 top-1/2 -translate-y-1/2 bg-[var(--color-schiketanz-red)]/90 hover:bg-[var(--color-schiketanz-red)] text-white p-2 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-all duration-300 focus:opacity-100 translate-x-[10px] group-hover:translate-x-0 cursor-pointer z-10"
        aria-label="Next image"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
        </svg>
      </button>
      <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 bg-black/20 px-3 py-1 rounded-full backdrop-blur-[2px] z-10">
         {images.map((_, index) => (
            <button 
                class="indicator-dot w-2 h-2 rounded-full shadow-sm transition-all duration-300 bg-white/70" 
                data-index={index}
                aria-label={`Go to slide ${index + 1}`}
            ></button>
         ))}
      </div>
    </>
  )}
</div>

<style>
  .scrollbar-hide::-webkit-scrollbar {
      display: none;
  }
  .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
      const track = document.getElementById('carousel-track');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const slides = document.querySelectorAll('.gallery-slide');
      const dots = document.querySelectorAll('.indicator-dot');

      if (!track) return; // guard clause

    // update which dot is active
    const updateDots = (activeIndex: number) => {
      dots.forEach((dot, index) => {
        if (index === activeIndex) {
          // active: schiketanz red + slightly larger
          dot.classList.remove('bg-white/70');
          dot.classList.add('bg-[var(--color-schiketanz-red)]');
          dot.classList.add('scale-125');
        } else {
          // inactive: white/70
          dot.classList.add('bg-white/70');
          dot.classList.remove('bg-[var(--color-schiketanz-red)]');
          dot.classList.remove('scale-125');
        }
      });
    };

    // set up IntersectionObserver to watch which slide is visible
    if (track && slides.length > 0) {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // find index of slide that just appeared
            // convert NodeList to an Array to use .indexOf
            const index = Array.from(slides).indexOf(entry.target as Element);
            updateDots(index);
          }
        });
      }, {
        root: track,
        threshold: 0.5 // trigger when 50% of the image is visible
      });
      // observe every slide
      slides.forEach(slide => observer.observe(slide));
    }

    // previous/next button logic
    if (track && prevBtn && nextBtn) {
      prevBtn.addEventListener('click', () => {
        track.scrollBy({ left: -track.clientWidth, behavior: 'smooth' });
      });
      nextBtn.addEventListener('click', () => {
        track.scrollBy({ left: track.clientWidth, behavior: 'smooth' });
      });
    }

    // dot click logic
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        if(track && slides[index]) {
          slides[index].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });
        }
      });
    });

    // initialize first dot as active on load
    updateDots(0);
  }); 
</script>
</file>

<file path="src/content/config.ts">
import { defineCollection, z } from 'astro:content';

const rentals = defineCollection({
    type: 'content',
    schema: ({ image }) => z.object({
        title: z.string(),
        vacancyStatus: z.enum(['occupied', 'vacant', 'waitlist']),
        address: z.string(),
        // cover image
        coverImage: image().optional(),        
        // iGuide Link: Optional string, validated as a URL
        iGuideUrl: z.string().url().optional(),
        // Gallery: Optional array of images
        gallery: z.array(image()).optional(),
    }),
});

const news = defineCollection({
    type: 'content',
    schema: z.object({
        title: z.string(),
        date: z.coerce.date(),
    }),
});

export const collections = { rentals, news };
</file>

<file path="src/pages/404.astro">
---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Page Not Found | Schiketanz Real Estate">
  <div class="container mx-auto px-4 h-[60vh] flex flex-col items-center justify-center text-center">
    <h1 class="font-century font-bold text-6xl text-[var(--color-schiketanz-red)] mb-4">404</h1>
    <p class="text-2xl text-gray-800 font-bold mb-4">Page Not Found</p>
    <p class="text-gray-600 mb-8 max-w-md">The page you are looking for might have been removed, had its name changed, or is temporarily unavailable.</p>
    <div class="flex gap-4">
        <a href="/" class="px-6 py-3 bg-[var(--color-schiketanz-red)] text-white font-bold rounded hover:bg-red-700 transition-colors">Go Home</a>
        <a href="/rentals" class="px-6 py-3 border border-gray-300 text-gray-700 font-bold rounded hover:bg-gray-50 transition-colors">View Rentals</a>
    </div>
  </div>
</Layout>
</file>

<file path="src/pages/rentals.astro">
---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import { Image } from 'astro:assets';

// fetch rental properties from CMS
const rentals = await getCollection('rentals');
---

<Layout title="Rentals | Schiketanz Real Estate">
  <div class="container mx-auto px-4 py-8">
    <!-- Page Header -->
    <h1 class="font-century text-4xl text-schiketanz-red mb-2">
      Rental Properties
    </h1>
    <p class="text-gray-600 mb-8 max-w-2xl text-lg">
        Browse our current residential and commercial listings below. 
        Please contact our office for application details.
    </p>
    <!-- Grid Layout -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {rentals.map(rental => (
        <article class="bg-white border border-gray-200 rounded-sm shadow-sm hover:shadow-md transition-shadow flex flex-col h-full">

           <!-- Image Section -->
           <div class="h-64 bg-gray-100 relative overflow-hidden group">
             {rental.data.coverImage ? (
                <Image 
                    src={rental.data.coverImage} 
                    alt={rental.data.title} 
                    class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" 
                />
             ) : (
                <div class="w-full h-full flex items-center justify-center text-gray-400 bg-gray-200">
                    No Image Available
                </div>
             )}

             <!-- Vacancy Status Badge -->
             <div class:list={[
                 "absolute top-4 right-4 px-3 py-1 text-xs font-bold uppercase tracking-wider shadow-sm text-white",
                 {
                    "bg-green-600": rental.data.vacancyStatus === 'vacant',
                    "bg-yellow-500": rental.data.vacancyStatus === 'waitlist',
                    "bg-gray-600": rental.data.vacancyStatus === 'occupied'
                 }
             ]}>
                {rental.data.vacancyStatus === 'vacant' ? 'Vacancies Available' : 
                 rental.data.vacancyStatus === 'waitlist' ? 'Waitlist Open' : 'No Vacancy'}
             </div>
           </div>

           <!-- Content Section -->
           <div class="p-6 flex flex-col flex-grow">
             <h2 class="text-xl font-bold text-gray-800 mb-1 font-century">{rental.data.title}</h2>
             <p class="text-gray-500 text-sm mb-4 border-b border-gray-100 pb-4">{rental.data.address}</p>
             
             <!-- We will link this to a details page later -->
             <div class="mt-auto pt-2">
              <a href={`/rentals/${rental.id.replace(/\.mdx$/, '')}`} class="absolute inset-0 z-10 focus:outline-none focus:ring-2 focus:ring-schiketanz-red focus:ring-offset-2" aria-label={`View details for ${rental.data.title}`}>
                <span class="sr-only">View Details</span>
              </a>
             </div>
           </div>
        </article>
      ))}
    </div>

    {rentals.length === 0 && (
        <div class="p-12 text-center bg-gray-50 border border-gray-200 rounded text-gray-500">
            <p>No rental properties found in the system.</p>
            <p class="text-sm mt-2">(Check your CMS to ensure entries are saved!)</p>
        </div>
    )}

  </div>
</Layout>
</file>

<file path="src/styles/global.css">
@import "tailwindcss";

@font-face {
  font-family: "Century Gothic";
  src: url("/fonts/CenturyGothic.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  font-display: block;
}
@font-face {
  font-family: "Century Gothic Bold";
  src: url("/fonts/CenturyGothicBold.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  font-display: block;
}

@layer utilities {
  .antialiased-crisp {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

@theme {
  /* Colors */
  --color-schiketanz-red: rgba(236, 28, 28, 1);
  --color-schiketanz-red-dark: rgba(200, 24, 24, 1);
  /* Fonts */
  --font-century: "Century Gothic", sans-serif;
  --font-centurybold: "Century Gothic Bold", sans-serif;
  --font-sans: "Open Sans", ui-sans-serif, system-ui, sans-serif;
}

/* can still write normal CSS here if there are issues with tailwind */
body {
    /* ensure scrollbar doesn't shift layout on some windows */
    overflow-y: scroll; 
}
</file>

<file path="src/layouts/Layout.astro">
---
import { ClientRouter } from 'astro:transitions';
import '@fontsource/open-sans';
import '../styles/global.css';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Logo from '../components/Logo.astro';

interface Props {
	title: string;
	description?: string;
	image?: string;
	canonicalURL?: string;
    type?: 'website' | 'article';
    // allow pages to control semantic tag of logo (default: div)
    logoAs?: 'h1' | 'div';
}

// Default SEO values extracted from original site
const defaultDesc = "Apartment Rentals in Kitchener Waterloo Ontario. M. Schiketanz Real Estate Inc. providing quality service to tenants since 1953.";
const siteName = "M. Schiketanz Real Estate Inc.";

const { 
    title, 
    description = defaultDesc, 
    image = '/images/og-default.jpg', // TODO: Ensure we have a default share image in public/images
    canonicalURL = new URL(Astro.url.pathname, Astro.site).href,
    type = 'website',
    logoAs = 'div' // default to 'div' so only homepage overrides to 'h1'
} = Astro.props;

// Schema extracted from CURL data
const businessSchema = {
  "@context": "https://schema.org/",
  "@type": "LocalBusiness",
  "name": "M. Schiketanz Real Estate Inc.",
  "url": Astro.site,
  "logo": new URL('/favicon.svg', Astro.site).href,
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "CA",
    "addressLocality": "Kitchener",
    "addressRegion": "ON",
    "postalCode": "N2B 2A9",
    "streetAddress": "582 Frederick Street"
  },
  "telephone": "519-742-4477",
  "description": description
};
---

<!doctype html>
<html lang="en" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
        <link rel="canonical" href={canonicalURL} />

        <!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="description" content={description} />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content={type} />
        <meta property="og:url" content={canonicalURL} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content={new URL(image, Astro.site)} />
        <meta property="og:site_name" content={siteName} />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content={canonicalURL} />
        <meta property="twitter:title" content={title} />
        <meta property="twitter:description" content={description} />
        <meta property="twitter:image" content={new URL(image, Astro.site)} />

        <!-- Schema.org JSON-LD -->
        <script type="application/ld+json" set:html={JSON.stringify(businessSchema)} />

		<ClientRouter />
	</head>
	
	<body class="bg-white flex flex-col min-h-screen text-gray-800 font-sans antialiased-crisp">
		
        <!-- Accessibility: Skip to Content -->
        <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[100] bg-white text-blue-800 p-4 border border-blue-800 rounded">
            Skip to main content
        </a>

		<!-- HEADER -->
		<header class="bg-schiketanz-red shadow-md sticky top-0 z-50">
			
			<div class="container mx-auto px-4 pt-6 pb-2">
				<!-- Top Row: Logo/Title -->
				<div class="flex justify-between items-start mb-2">
					<a href="/" class="block text-white hover:text-gray-100 transition-colors decoration-0 group" aria-label="Go to Homepage">
                        <!-- Dynamic Logo Tag (h1 on home, div elsewhere) -->
						<Logo as={logoAs} class="text-4xl md:text-5xl group-hover:opacity-95 transition-opacity" />
					</a>

					<!-- Mobile Menu Button -->
					<button 
                        id="menu-btn" 
                        class="lg:hidden text-white p-2 border border-white/30 rounded hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white cursor-pointer"
                        aria-label="Toggle Navigation Menu"
                        aria-expanded="false"
                        aria-controls="mobile-menu"
                    >
						<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
						</svg>
					</button>
				</div>

				<Navbar />
			</div>
		</header>

		<main id="main-content" class="flex-grow w-full">
			<slot />
		</main>

		<Footer />
	</body>
</html>

<script>
    // Handles Mobile Menu Toggle with ARIA updates for accessibility
	document.addEventListener('astro:page-load', () => {
		const btn = document.getElementById('menu-btn');
		const menu = document.getElementById('mobile-menu');
		
		if(btn && menu) {
			btn.addEventListener('click', () => {
				const isHidden = menu.classList.toggle('hidden');
                btn.setAttribute('aria-expanded', (!isHidden).toString());
			});
		}
	});
</script>
</file>

<file path="src/pages/rentals/[id].astro">
---
import { getCollection, render } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import PropertyGallery from '../../components/PropertyGallery.astro';

export async function getStaticPaths() {
  const rentals = await getCollection('rentals');
  // array of objects for each property
  return rentals.map(rental => ({
    params: { id: rental.slug }, // URL (e.g., /rentals/123-king-st)
    props: { rental },         // pass whole data object to page
  }));
}

// get specific property data for this page
const { rental } = Astro.props;
const { Content } = await render(rental);
// get gallery images
const galleryImages = rental.data.gallery || [];
// cover image
const coverImage = rental.data.coverImage;

// MERGE: Gallery first, then cover image tacked onto the end
const allImages = [...galleryImages];
if (coverImage) {
    allImages.push(coverImage);
}
---

<Layout title={`${rental.data.title} | Schiketanz Rentals`}>
  
  <div class="container mx-auto px-4 py-8">
    
    <!-- Breadcrumb -->
    <a href="/rentals" class="inline-flex items-center text-sm text-gray-500 hover:text-schiketanz-red mb-6 transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      Back to Rentals
    </a>

    <!-- Header Section -->
    <header class="flex flex-col md:flex-row md:justify-between md:items-start mb-6 gap-4">
      <div>
        <h1 class="font-century text-3xl md:text-4xl text-gray-900 mb-2 leading-tight">
            {rental.data.title}
        </h1>
        <p class="text-xl text-gray-600 font-light">
            {rental.data.address}
        </p>
      </div>

      <!-- Vacancy Status Badge -->
      <div class:list={[
         "px-4 py-2 text-sm font-bold uppercase tracking-wider rounded-sm shadow-sm text-white inline-block text-center",
         {
            "bg-green-600": rental.data.vacancyStatus === 'vacant',
            "bg-yellow-500": rental.data.vacancyStatus === 'waitlist',
            "bg-gray-600": rental.data.vacancyStatus === 'occupied'
         }
      ]}>
        {rental.data.vacancyStatus === 'vacant' ? 'Vacancies Available' : 
         rental.data.vacancyStatus === 'waitlist' ? 'Waitlist Open' : 'No Vacancy'}
      </div>
    </header>

    <!-- Main Content Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 md:gap-12">
      
      <!-- Left Column: Gallery & iGuide -->
      <div class="lg:col-span-2 space-y-6">
        
        <!-- Gallery Carousel (Shows Gallery + Cover at the end) -->
        {allImages.length > 0 ? (
            <div>
                <PropertyGallery images={allImages} title={rental.data.title} />
            </div>
        ) : (
            <div class="w-full h-96 flex items-center justify-center bg-gray-100 text-gray-400 border border-gray-200">
                No Images Available
            </div>
        )}

        <!-- iGuide Button -->
        {rental.data.iGuideUrl && (
            <div class="mt-2">
                <a 
                    href={rental.data.iGuideUrl} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="flex items-center justify-center w-full bg-[#003057] hover:bg-[#002542] text-white font-century py-4 px-6 rounded shadow-md transition-all group"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-cyan-400 group-hover:rotate-180 transition-transform duration-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                    </svg>
                    <span class="text-lg">Take 3D Virtual Tour (iGuide)</span>
                </a>
            </div>
        )}
      </div>

      <!-- Right Column: Details & Contact -->
      <div class="lg:col-span-1 space-y-8">
        <div class="prose prose-red max-w-none text-gray-700">
           <Content />
        </div>
        
        <div class="bg-gray-50 border border-gray-200 p-6 rounded-sm shadow-sm">
            <h3 class="font-century text-lg font-bold text-schiketanz-red mb-3">Interested?</h3>
            <p class="text-sm text-gray-600 mb-4">
                Please contact our office to schedule a viewing or request an application.
            </p>
            <ul class="text-sm space-y-2 mb-6">
                <li class="flex items-center">
                    <svg class="w-4 h-4 text-gray-400 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/></svg>
                    (519) 742-4477
                </li>
            </ul>
            <a href="/application" class="block w-full text-center bg-schiketanz-red text-white font-bold py-2 px-4 rounded hover:bg-schiketanz-red-dark transition-colors">
                Get Application
            </a>
        </div>
      </div>
    </div>
  </div>
</Layout>
</file>

<file path="astro.config.mjs">
// @ts-check
import { defineConfig } from 'astro/config';
import react from '@astrojs/react';
import node from '@astrojs/node';
import keystatic from '@keystatic/astro';
import tailwindcss from '@tailwindcss/vite';
import mdx from '@astrojs/mdx';

// https://astro.build/config
export default defineConfig({
  // TODO: switch site URL
  site: 'https://schiketanz.fromconcentrate.ca',

  adapter: node({
    mode: 'standalone',
  }),

  integrations: [react(), keystatic(), mdx()],

  vite: {
    plugins: [tailwindcss()],
  },
});
</file>

<file path="src/pages/index.astro">
---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import heroImage from '../assets/hero.png';
import { getCollection } from 'astro:content';

// fetch and sort news chronologically
const newsEntries = await getCollection('news');
const latestNews = newsEntries
    .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
    .slice(0, 3); // limit to top 3 notices
---

<Layout title="Home | Schiketanz Real Estate" logoAs="h1">
	<!-- Hero Section -->
	<section class="relative w-full h-[500px] md:h-[600px] bg-gray-100 overflow-hidden">
		<Image 
            src={heroImage} 
            alt="Interior of M. Schiketanz apartment"
            class="absolute inset-0 w-full h-full object-cover"
            quality="high"
            loading="eager" 
        />
        <!-- Darker overlay for better text contrast -->
        <div class="absolute inset-0 bg-black/40"></div>
		<!-- Text Overlay Container -->
		<div class="absolute inset-0 container mx-auto px-4 flex flex-col justify-center pointer-events-none">
			<div class="max-w-3xl drop-shadow-lg">
                <h2 class="font-century text-xl md:text-3xl text-white mb-4 pl-1 drop-shadow-md leading-relaxed">
                    Your Property Management Company Since 1953
                </h2>
                <!-- Main Text -->
                <p class="font-century font-bold text-4xl md:text-6xl text-white pl-1 drop-shadow-md tracking-tight">
                    At Your Service
                </p>
			</div>
		</div>
	</section>

    <!-- Main Content Grid -->
    <section class="container mx-auto px-4 py-12 md:py-16">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 items-start">
            
            <!-- LEFT COLUMN: Welcome Text (2/3 width) -->
            <div class="lg:col-span-2">
                <h3 class="text-2xl font-bold text-schiketanz-red mb-6 border-b-2 border-gray-200 pb-2 inline-block">
                    Welcome
                </h3>
                <div class="prose max-w-none text-gray-700 leading-relaxed font-sans text-lg">
                    <p class="mb-4">
                        Schiketanz is a Real Estate Management Company located in the Kitchener-Waterloo area. We are dedicated to providing quality service to our tenants and ensuring our properties are maintained to the highest standards.
                    </p>
                    <p class="mb-4">
                        We manage a diverse portfolio of residential and commercial properties. Whether you are looking for a bachelor apartment or a family home, our dedicated team is here to assist you in finding your next residence.
                    </p>
                    <p>
                        Please browse our available rentals or contact our office for more information regarding upcoming vacancies.
                    </p>
                </div>
                
                <div class="mt-8">
                    <a href="/rentals" class="inline-block bg-schiketanz-red text-white px-6 py-3 font-century font-bold hover:bg-schiketanz-red-dark transition-colors rounded-sm shadow-sm">
                        View Available Rentals &rarr;
                    </a>
                </div>
            </div>

            <!-- RIGHT COLUMN: News & Notices (1/3 width) -->
            <div class="lg:col-span-1 w-full">
                <!-- "Notice Board" Container -->
                <div class="bg-gray-50 border border-gray-200 p-6 rounded-sm shadow-sm">
                    <h3 class="text-xl font-bold text-gray-800 mb-5 flex items-center border-b border-gray-200 pb-3">
                        <!-- Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-schiketanz-red" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M18 3a1 1 0 00-1.447-.894L8.763 6H5a3 3 0 000 6h.28l1.771 5.316A1 1 0 008 18h1a1 1 0 001-1v-4.382l6.553 3.276A1 1 0 0018 15V3z" clip-rule="evenodd" />
                        </svg>
                        News & Notices
                    </h3>
                    
                    {latestNews.length > 0 ? (
                        <div class="space-y-6">
                            {latestNews.map(news => (
                                <article class="relative pl-4 border-l-4 border-schiketanz-red">
                                    <p class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-1">
                                        {news.data.date.toLocaleDateString('en-CA', { year: 'numeric', month: 'long', day: 'numeric' })}
                                    </p>
                                    <h4 class="font-century font-bold text-gray-900 leading-tight mb-2 text-lg">
                                        {news.data.title}
                                    </h4>
                                    <div class="text-sm text-gray-600 line-clamp-4">
                                        {news.body}
                                    </div>
                                </article>
                            ))}
                        </div>
                    ) : (
                        <div class="text-center py-8 text-gray-500 italic">
                            No current notices at this time.
                        </div>
                    )}
                </div>
            </div>

        </div>
    </section>
</Layout>
</file>

</files>
